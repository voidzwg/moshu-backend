{"version":3,"file":"js/731.f8e0e30a.js","mappings":"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","sources":["webpack://sophomore_term-frontend/../lib/key-combo.js","webpack://sophomore_term-frontend/../lib/locale.js","webpack://sophomore_term-frontend/../lib/keyboard.js","webpack://sophomore_term-frontend/../locales/us.js","webpack://sophomore_term-frontend/../index.js","webpack://sophomore_term-frontend/./src/examples/vseditor/components.vue","webpack://sophomore_term-frontend/src/examples/vseditor/components.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/components.vue?301f","webpack://sophomore_term-frontend/./src/components/ddr/Vector.js","webpack://sophomore_term-frontend/./src/components/ddr/Matrix.js","webpack://sophomore_term-frontend/./src/components/ddr/helper.js","webpack://sophomore_term-frontend/src/components/ddr/index.vue","webpack://sophomore_term-frontend/./src/components/ddr/index.vue","webpack://sophomore_term-frontend/./src/components/ddr/index.vue?447a","webpack://sophomore_term-frontend/./src/examples/vseditor/event-enums.js","webpack://sophomore_term-frontend/./src/examples/vseditor/component-impl.js","webpack://sophomore_term-frontend/./src/examples/utils/ref.js","webpack://sophomore_term-frontend/src/examples/vseditor/cell-wrapper.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/cell-wrapper.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/plugins/plugin-drop.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/editor-view.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/footer.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/header.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/cell-wrapper.vue?6808","webpack://sophomore_term-frontend/src/examples/vseditor/plugins/plugin-drop.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/plugins/plugin-drop.vue?956d","webpack://sophomore_term-frontend/src/examples/vseditor/editor-view.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/editor-view.vue?400d","webpack://sophomore_term-frontend/src/examples/vseditor/footer.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/footer.vue?ab86","webpack://sophomore_term-frontend/src/examples/vseditor/header.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/header.vue?4873","webpack://sophomore_term-frontend/./src/examples/utils/index.js","webpack://sophomore_term-frontend/src/examples/vseditor/prop-check-input.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-check-input.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-grid-input.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-number-input.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-radio-input.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-check-input.vue?7901","webpack://sophomore_term-frontend/src/examples/vseditor/prop-grid-input.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-grid-input.vue?c1b0","webpack://sophomore_term-frontend/src/examples/vseditor/prop-number-input.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-number-input.vue?d46b","webpack://sophomore_term-frontend/src/examples/vseditor/prop-radio-input.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-radio-input.vue?d526","webpack://sophomore_term-frontend/src/examples/vseditor/prop-inspector.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-inspector.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/prop-inspector.vue?2b11","webpack://sophomore_term-frontend/./src/examples/utils/dom.js","webpack://sophomore_term-frontend/./src/examples/vseditor/plugins/plugin-selection-actions.js","webpack://sophomore_term-frontend/src/examples/vseditor/plugins/plugin-selection.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/plugins/plugin-selection.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/plugins/plugin-grid.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/plugins/plugin-selection.vue?1f2c","webpack://sophomore_term-frontend/src/examples/vseditor/plugins/plugin-grid.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/plugins/plugin-grid.vue?97b9","webpack://sophomore_term-frontend/./src/examples/vseditor/plugins/keyboard.js","webpack://sophomore_term-frontend/src/examples/vseditor/index.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/index.vue","webpack://sophomore_term-frontend/./src/examples/vseditor/index.vue?66b7","webpack://sophomore_term-frontend/./src/assets/ sync ^\\.\\/.*\\.png$","webpack://sophomore_term-frontend/./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["\nexport class KeyCombo {\n  constructor(keyComboStr) {\n    this.sourceStr = keyComboStr;\n    this.subCombos = KeyCombo.parseComboStr(keyComboStr);\n    this.keyNames  = this.subCombos.reduce((memo, nextSubCombo) =>\n      memo.concat(nextSubCombo), []);\n  }\n\n  check(pressedKeyNames) {\n    let startingKeyNameIndex = 0;\n    for (let i = 0; i < this.subCombos.length; i += 1) {\n      startingKeyNameIndex = this._checkSubCombo(\n        this.subCombos[i],\n        startingKeyNameIndex,\n        pressedKeyNames\n      );\n      if (startingKeyNameIndex === -1) { return false; }\n    }\n    return true;\n  };\n\n  isEqual(otherKeyCombo) {\n    if (\n      !otherKeyCombo ||\n      typeof otherKeyCombo !== 'string' &&\n      typeof otherKeyCombo !== 'object'\n    ) { return false; }\n\n    if (typeof otherKeyCombo === 'string') {\n      otherKeyCombo = new KeyCombo(otherKeyCombo);\n    }\n\n    if (this.subCombos.length !== otherKeyCombo.subCombos.length) {\n      return false;\n    }\n    for (let i = 0; i < this.subCombos.length; i += 1) {\n      if (this.subCombos[i].length !== otherKeyCombo.subCombos[i].length) {\n        return false;\n      }\n    }\n\n    for (let i = 0; i < this.subCombos.length; i += 1) {\n      const subCombo      = this.subCombos[i];\n      const otherSubCombo = otherKeyCombo.subCombos[i].slice(0);\n\n      for (let j = 0; j < subCombo.length; j += 1) {\n        const keyName = subCombo[j];\n        const index   = otherSubCombo.indexOf(keyName);\n\n        if (index > -1) {\n          otherSubCombo.splice(index, 1);\n        }\n      }\n      if (otherSubCombo.length !== 0) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  _checkSubCombo(subCombo, startingKeyNameIndex, pressedKeyNames) {\n    subCombo = subCombo.slice(0);\n    pressedKeyNames = pressedKeyNames.slice(startingKeyNameIndex);\n\n    let endIndex = startingKeyNameIndex;\n    for (let i = 0; i < subCombo.length; i += 1) {\n\n      let keyName = subCombo[i];\n      if (keyName[0] === '\\\\') {\n        const escapedKeyName = keyName.slice(1);\n        if (\n          escapedKeyName === KeyCombo.comboDeliminator ||\n          escapedKeyName === KeyCombo.keyDeliminator\n        ) {\n          keyName = escapedKeyName;\n        }\n      }\n\n      const index = pressedKeyNames.indexOf(keyName);\n      if (index > -1) {\n        subCombo.splice(i, 1);\n        i -= 1;\n        if (index > endIndex) {\n          endIndex = index;\n        }\n        if (subCombo.length === 0) {\n          return endIndex;\n        }\n      }\n    }\n    return -1;\n  };\n}\n\nKeyCombo.comboDeliminator = '>';\nKeyCombo.keyDeliminator   = '+';\n\nKeyCombo.parseComboStr = function(keyComboStr) {\n  const subComboStrs = KeyCombo._splitStr(keyComboStr, KeyCombo.comboDeliminator);\n  const combo        = [];\n\n  for (let i = 0 ; i < subComboStrs.length; i += 1) {\n    combo.push(KeyCombo._splitStr(subComboStrs[i], KeyCombo.keyDeliminator));\n  }\n  return combo;\n}\n\nKeyCombo._splitStr = function(str, deliminator) {\n  const s  = str;\n  const d  = deliminator;\n  let c  = '';\n  const ca = [];\n\n  for (let ci = 0; ci < s.length; ci += 1) {\n    if (ci > 0 && s[ci] === d && s[ci - 1] !== '\\\\') {\n      ca.push(c.trim());\n      c = '';\n      ci += 1;\n    }\n    c += s[ci];\n  }\n  if (c) { ca.push(c.trim()); }\n\n  return ca;\n};\n","import { KeyCombo } from './key-combo';\n\n\nexport class Locale {\n  constructor(name) {\n    this.localeName          = name;\n    this.activeTargetKeys = [];\n    this.pressedKeys         = [];\n    this._appliedMacros      = [];\n    this._keyMap             = {};\n    this._killKeyCodes       = [];\n    this._macros             = [];\n  }\n\n  bindKeyCode(keyCode, keyNames) {\n    if (typeof keyNames === 'string') {\n      keyNames = [keyNames];\n    }\n\n    this._keyMap[keyCode] = keyNames;\n  };\n\n  bindMacro(keyComboStr, keyNames) {\n    if (typeof keyNames === 'string') {\n      keyNames = [ keyNames ];\n    }\n\n    let handler = null;\n    if (typeof keyNames === 'function') {\n      handler = keyNames;\n      keyNames = null;\n    }\n\n    const macro = {\n      keyCombo : new KeyCombo(keyComboStr),\n      keyNames : keyNames,\n      handler  : handler\n    };\n\n    this._macros.push(macro);\n  };\n\n  getKeyCodes(keyName) {\n    const keyCodes = [];\n    for (const keyCode in this._keyMap) {\n      const index = this._keyMap[keyCode].indexOf(keyName);\n      if (index > -1) { keyCodes.push(keyCode|0); }\n    }\n    return keyCodes;\n  };\n\n  getKeyNames(keyCode) {\n    return this._keyMap[keyCode] || [];\n  };\n\n  setKillKey(keyCode) {\n    if (typeof keyCode === 'string') {\n      const keyCodes = this.getKeyCodes(keyCode);\n      for (let i = 0; i < keyCodes.length; i += 1) {\n        this.setKillKey(keyCodes[i]);\n      }\n      return;\n    }\n\n    this._killKeyCodes.push(keyCode);\n  };\n\n  pressKey(keyCode) {\n    if (typeof keyCode === 'string') {\n      const keyCodes = this.getKeyCodes(keyCode);\n      for (let i = 0; i < keyCodes.length; i += 1) {\n        this.pressKey(keyCodes[i]);\n      }\n      return;\n    }\n\n    this.activeTargetKeys.length = 0;\n    const keyNames = this.getKeyNames(keyCode);\n    for (let i = 0; i < keyNames.length; i += 1) {\n      this.activeTargetKeys.push(keyNames[i]);\n      if (this.pressedKeys.indexOf(keyNames[i]) === -1) {\n        this.pressedKeys.push(keyNames[i]);\n      }\n    }\n\n    this._applyMacros();\n  };\n\n  releaseKey(keyCode) {\n    if (typeof keyCode === 'string') {\n      const keyCodes = this.getKeyCodes(keyCode);\n      for (let i = 0; i < keyCodes.length; i += 1) {\n        this.releaseKey(keyCodes[i]);\n      }\n\n    } else {\n      const keyNames         = this.getKeyNames(keyCode);\n      const killKeyCodeIndex = this._killKeyCodes.indexOf(keyCode);\n\n      if (killKeyCodeIndex !== -1) {\n        this.pressedKeys.length = 0;\n      } else {\n        for (let i = 0; i < keyNames.length; i += 1) {\n          const index = this.pressedKeys.indexOf(keyNames[i]);\n          if (index > -1) {\n            this.pressedKeys.splice(index, 1);\n          }\n        }\n      }\n\n      this.activeTargetKeys.length = 0;\n      this._clearMacros();\n    }\n  };\n\n  _applyMacros() {\n    const macros = this._macros.slice(0);\n    for (let i = 0; i < macros.length; i += 1) {\n      const macro = macros[i];\n      if (macro.keyCombo.check(this.pressedKeys)) {\n        if (macro.handler) {\n          macro.keyNames = macro.handler(this.pressedKeys);\n        }\n        for (let j = 0; j < macro.keyNames.length; j += 1) {\n          if (this.pressedKeys.indexOf(macro.keyNames[j]) === -1) {\n            this.pressedKeys.push(macro.keyNames[j]);\n          }\n        }\n        this._appliedMacros.push(macro);\n      }\n    }\n  };\n\n  _clearMacros() {\n    for (let i = 0; i < this._appliedMacros.length; i += 1) {\n      const macro = this._appliedMacros[i];\n      if (!macro.keyCombo.check(this.pressedKeys)) {\n        for (let j = 0; j < macro.keyNames.length; j += 1) {\n          const index = this.pressedKeys.indexOf(macro.keyNames[j]);\n          if (index > -1) {\n            this.pressedKeys.splice(index, 1);\n          }\n        }\n        if (macro.handler) {\n          macro.keyNames = null;\n        }\n        this._appliedMacros.splice(i, 1);\n        i -= 1;\n      }\n    }\n  }\n}\n","import { Locale } from './locale';\nimport { KeyCombo } from './key-combo';\n\n\nexport class Keyboard {\n  constructor(targetWindow, targetElement, targetPlatform, targetUserAgent) {\n    this._locale               = null;\n    this._currentContext       = '';\n    this._contexts             = {};\n    this._listeners            = [];\n    this._appliedListeners     = [];\n    this._locales              = {};\n    this._targetElement        = null;\n    this._targetWindow         = null;\n    this._targetPlatform       = '';\n    this._targetUserAgent      = '';\n    this._isModernBrowser      = false;\n    this._targetKeyDownBinding = null;\n    this._targetKeyUpBinding   = null;\n    this._targetResetBinding   = null;\n    this._paused               = false;\n\n    this._contexts.global = {\n      listeners: this._listeners,\n      targetWindow,\n      targetElement,\n      targetPlatform,\n      targetUserAgent\n    };\n\n    this.setContext('global');\n  }\n\n  setLocale(localeName, localeBuilder) {\n    let locale = null;\n    if (typeof localeName === 'string') {\n\n      if (localeBuilder) {\n        locale = new Locale(localeName);\n        localeBuilder(locale, this._targetPlatform, this._targetUserAgent);\n      } else {\n        locale = this._locales[localeName] || null;\n      }\n    } else {\n      locale     = localeName;\n      localeName = locale._localeName;\n    }\n\n    this._locale              = locale;\n    this._locales[localeName] = locale;\n    if (locale) {\n      this._locale.pressedKeys = locale.pressedKeys;\n    }\n\n    return this;\n  }\n\n  getLocale(localName) {\n    localName || (localName = this._locale.localeName);\n    return this._locales[localName] || null;\n  }\n\n  bind(keyComboStr, pressHandler, releaseHandler, preventRepeatByDefault) {\n    if (keyComboStr === null || typeof keyComboStr === 'function') {\n      preventRepeatByDefault = releaseHandler;\n      releaseHandler         = pressHandler;\n      pressHandler           = keyComboStr;\n      keyComboStr            = null;\n    }\n\n    if (\n      keyComboStr &&\n      typeof keyComboStr === 'object' &&\n      typeof keyComboStr.length === 'number'\n    ) {\n      for (let i = 0; i < keyComboStr.length; i += 1) {\n        this.bind(keyComboStr[i], pressHandler, releaseHandler);\n      }\n      return this;\n    }\n\n    this._listeners.push({\n      keyCombo              : keyComboStr ? new KeyCombo(keyComboStr) : null,\n      pressHandler          : pressHandler           || null,\n      releaseHandler        : releaseHandler         || null,\n      preventRepeat         : preventRepeatByDefault || false,\n      preventRepeatByDefault: preventRepeatByDefault || false,\n      executingHandler      : false\n    });\n\n    return this;\n  }\n\n  addListener(keyComboStr, pressHandler, releaseHandler, preventRepeatByDefault) {\n    return this.bind(keyComboStr, pressHandler, releaseHandler, preventRepeatByDefault);\n  }\n\n  on(keyComboStr, pressHandler, releaseHandler, preventRepeatByDefault) {\n    return this.bind(keyComboStr, pressHandler, releaseHandler, preventRepeatByDefault);\n  }\n\n  bindPress(keyComboStr, pressHandler, preventRepeatByDefault) {\n    return this.bind(keyComboStr, pressHandler, null, preventRepeatByDefault);\n  }\n\n  bindRelease(keyComboStr, releaseHandler) {\n    return this.bind(keyComboStr, null, releaseHandler, preventRepeatByDefault);\n  }\n\n  unbind(keyComboStr, pressHandler, releaseHandler) {\n    if (keyComboStr === null || typeof keyComboStr === 'function') {\n      releaseHandler = pressHandler;\n      pressHandler   = keyComboStr;\n      keyComboStr = null;\n    }\n\n    if (\n      keyComboStr &&\n      typeof keyComboStr === 'object' &&\n      typeof keyComboStr.length === 'number'\n    ) {\n      for (let i = 0; i < keyComboStr.length; i += 1) {\n        this.unbind(keyComboStr[i], pressHandler, releaseHandler);\n      }\n      return this;\n    }\n\n    for (let i = 0; i < this._listeners.length; i += 1) {\n      const listener = this._listeners[i];\n\n      const comboMatches          = !keyComboStr && !listener.keyCombo ||\n                                  listener.keyCombo && listener.keyCombo.isEqual(keyComboStr);\n      const pressHandlerMatches   = !pressHandler && !releaseHandler ||\n                                  !pressHandler && !listener.pressHandler ||\n                                  pressHandler === listener.pressHandler;\n      const releaseHandlerMatches = !pressHandler && !releaseHandler ||\n                                  !releaseHandler && !listener.releaseHandler ||\n                                  releaseHandler === listener.releaseHandler;\n\n      if (comboMatches && pressHandlerMatches && releaseHandlerMatches) {\n        this._listeners.splice(i, 1);\n        i -= 1;\n      }\n    }\n\n    return this;\n  }\n\n  removeListener(keyComboStr, pressHandler, releaseHandler) {\n    return this.unbind(keyComboStr, pressHandler, releaseHandler);\n  }\n\n  off(keyComboStr, pressHandler, releaseHandler) {\n    return this.unbind(keyComboStr, pressHandler, releaseHandler);\n  }\n\n  setContext(contextName) {\n    if(this._locale) { this.releaseAllKeys(); }\n\n    if (!this._contexts[contextName]) {\n      const globalContext = this._contexts.global;\n      this._contexts[contextName] = {\n        listeners      : [],\n        targetWindow   : globalContext.targetWindow,\n        targetElement  : globalContext.targetElement,\n        targetPlatform : globalContext.targetPlatform,\n        targetUserAgent: globalContext.targetUserAgent\n      };\n    }\n\n    const context        = this._contexts[contextName];\n    this._currentContext = contextName;\n    this._listeners      = context.listeners;\n\n    this.stop();\n    this.watch(\n      context.targetWindow,\n      context.targetElement,\n      context.targetPlatform,\n      context.targetUserAgent\n    );\n\n    return this;\n  }\n\n  getContext() {\n    return this._currentContext;\n  }\n\n  withContext(contextName, callback) {\n    const previousContextName = this.getContext();\n    this.setContext(contextName);\n\n    callback();\n\n    this.setContext(previousContextName);\n\n    return this;\n  }\n\n  watch(targetWindow, targetElement, targetPlatform, targetUserAgent) {\n    this.stop();\n\n    const win = typeof globalThis !== 'undefined' ? globalThis :\n                typeof global !== 'undefined' ? global :\n                typeof window !== 'undefined' ? window :\n                {};\n\n    if (!targetWindow) {\n      if (!win.addEventListener && !win.attachEvent) {\n        throw new Error('Cannot find window functions addEventListener or attachEvent.');\n      }\n      targetWindow = win;\n    }\n\n    // Handle element bindings where a target window is not passed\n    if (typeof targetWindow.nodeType === 'number') {\n      targetUserAgent = targetPlatform;\n      targetPlatform  = targetElement;\n      targetElement   = targetWindow;\n      targetWindow    = win;\n    }\n\n    if (!targetWindow.addEventListener && !targetWindow.attachEvent) {\n      throw new Error('Cannot find addEventListener or attachEvent methods on targetWindow.');\n    }\n\n    this._isModernBrowser = !!targetWindow.addEventListener;\n\n    const userAgent = targetWindow.navigator && targetWindow.navigator.userAgent || '';\n    const platform  = targetWindow.navigator && targetWindow.navigator.platform  || '';\n\n    targetElement   && targetElement   !== null || (targetElement   = targetWindow.document);\n    targetPlatform  && targetPlatform  !== null || (targetPlatform  = platform);\n    targetUserAgent && targetUserAgent !== null || (targetUserAgent = userAgent);\n\n    this._targetKeyDownBinding = (event) => {\n      this.pressKey(event.keyCode, event);\n      this._handleCommandBug(event, platform);\n    };\n    this._targetKeyUpBinding = (event) => {\n      this.releaseKey(event.keyCode, event);\n    };\n    this._targetResetBinding = (event) => {\n      this.releaseAllKeys(event);\n    };\n\n    this._bindEvent(targetElement, 'keydown', this._targetKeyDownBinding);\n    this._bindEvent(targetElement, 'keyup',   this._targetKeyUpBinding);\n    this._bindEvent(targetWindow,  'focus',   this._targetResetBinding);\n    this._bindEvent(targetWindow,  'blur',    this._targetResetBinding);\n\n    this._targetElement   = targetElement;\n    this._targetWindow    = targetWindow;\n    this._targetPlatform  = targetPlatform;\n    this._targetUserAgent = targetUserAgent;\n\n    const currentContext           = this._contexts[this._currentContext];\n    currentContext.targetWindow    = this._targetWindow;\n    currentContext.targetElement   = this._targetElement;\n    currentContext.targetPlatform  = this._targetPlatform;\n    currentContext.targetUserAgent = this._targetUserAgent;\n\n    return this;\n  }\n\n  stop() {\n    if (!this._targetElement || !this._targetWindow) { return; }\n\n    this._unbindEvent(this._targetElement, 'keydown', this._targetKeyDownBinding);\n    this._unbindEvent(this._targetElement, 'keyup',   this._targetKeyUpBinding);\n    this._unbindEvent(this._targetWindow,  'focus',   this._targetResetBinding);\n    this._unbindEvent(this._targetWindow,  'blur',    this._targetResetBinding);\n\n    this._targetWindow  = null;\n    this._targetElement = null;\n\n    return this;\n  }\n\n  pressKey(keyCode, event) {\n    if (this._paused) { return this; }\n    if (!this._locale) { throw new Error('Locale not set'); }\n\n    this._locale.pressKey(keyCode);\n    this._applyBindings(event);\n\n    return this;\n  }\n\n  releaseKey(keyCode, event) {\n    if (this._paused) { return this; }\n    if (!this._locale) { throw new Error('Locale not set'); }\n\n    this._locale.releaseKey(keyCode);\n    this._clearBindings(event);\n\n    return this;\n  }\n\n  releaseAllKeys(event) {\n    if (this._paused) { return this; }\n    if (!this._locale) { throw new Error('Locale not set'); }\n\n    this._locale.pressedKeys.length = 0;\n    this._clearBindings(event);\n\n    return this;\n  }\n\n  pause() {\n    if (this._paused) { return this; }\n    if (this._locale) { this.releaseAllKeys(); }\n    this._paused = true;\n\n    return this;\n  }\n\n  resume() {\n    this._paused = false;\n\n    return this;\n  }\n\n  reset() {\n    this.releaseAllKeys();\n    this._listeners.length = 0;\n\n    return this;\n  }\n\n  _bindEvent(targetElement, eventName, handler) {\n    return this._isModernBrowser ?\n      targetElement.addEventListener(eventName, handler, false) :\n      targetElement.attachEvent('on' + eventName, handler);\n  }\n\n  _unbindEvent(targetElement, eventName, handler) {\n    return this._isModernBrowser ?\n      targetElement.removeEventListener(eventName, handler, false) :\n      targetElement.detachEvent('on' + eventName, handler);\n  }\n\n  _getGroupedListeners() {\n    const listenerGroups   = [];\n    const listenerGroupMap = [];\n\n    let listeners = this._listeners;\n    if (this._currentContext !== 'global') {\n      listeners = [...listeners, ...this._contexts.global.listeners];\n    }\n\n    listeners.sort(\n      (a, b) =>\n        (b.keyCombo ? b.keyCombo.keyNames.length : 0) -\n        (a.keyCombo ? a.keyCombo.keyNames.length : 0)\n    ).forEach((l) => {\n      let mapIndex = -1;\n      for (let i = 0; i < listenerGroupMap.length; i += 1) {\n        if (listenerGroupMap[i] === null && l.keyCombo === null ||\n            listenerGroupMap[i] !== null && listenerGroupMap[i].isEqual(l.keyCombo)) {\n          mapIndex = i;\n        }\n      }\n      if (mapIndex === -1) {\n        mapIndex = listenerGroupMap.length;\n        listenerGroupMap.push(l.keyCombo);\n      }\n      if (!listenerGroups[mapIndex]) {\n        listenerGroups[mapIndex] = [];\n      }\n      listenerGroups[mapIndex].push(l);\n    });\n\n    return listenerGroups;\n  }\n\n  _applyBindings(event) {\n    let preventRepeat = false;\n\n    event || (event = {});\n    event.preventRepeat = () => { preventRepeat = true; };\n    event.pressedKeys   = this._locale.pressedKeys.slice(0);\n\n    const activeTargetKeys = this._locale.activeTargetKeys;\n    const pressedKeys      = this._locale.pressedKeys.slice(0);\n    const listenerGroups   = this._getGroupedListeners();\n\n    for (let i = 0; i < listenerGroups.length; i += 1) {\n      const listeners = listenerGroups[i];\n      const keyCombo  = listeners[0].keyCombo;\n\n      if (\n        keyCombo === null ||\n        keyCombo.check(pressedKeys) &&\n        activeTargetKeys.some(k => keyCombo.keyNames.includes(k))\n      ) {\n        for (let j = 0; j < listeners.length; j += 1) {\n          let listener = listeners[j];\n\n          if (!listener.executingHandler && listener.pressHandler && !listener.preventRepeat) {\n            listener.executingHandler = true;\n            listener.pressHandler.call(this, event);\n            listener.executingHandler = false;\n\n            if (preventRepeat || listener.preventRepeatByDefault) {\n              listener.preventRepeat = true;\n              preventRepeat          = false;\n            }\n          }\n\n          if (this._appliedListeners.indexOf(listener) === -1) {\n            this._appliedListeners.push(listener);\n          }\n        }\n\n        if (keyCombo) {\n          for (let j = 0; j < keyCombo.keyNames.length; j += 1) {\n            const index = pressedKeys.indexOf(keyCombo.keyNames[j]);\n            if (index !== -1) {\n              pressedKeys.splice(index, 1);\n              j -= 1;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  _clearBindings(event) {\n    event || (event = {});\n    event.pressedKeys = this._locale.pressedKeys.slice(0);\n\n    for (let i = 0; i < this._appliedListeners.length; i += 1) {\n      const listener = this._appliedListeners[i];\n      const keyCombo = listener.keyCombo;\n      if (keyCombo === null || !keyCombo.check(this._locale.pressedKeys)) {\n        listener.preventRepeat = false;\n        if (keyCombo !== null || event.pressedKeys.length === 0) {\n          this._appliedListeners.splice(i, 1);\n          i -= 1;\n        }\n        if (!listener.executingHandler && listener.releaseHandler) {\n          listener.executingHandler = true;\n          listener.releaseHandler.call(this, event);\n          listener.executingHandler = false;\n        }\n      }\n    }\n  }\n\n  _handleCommandBug(event, platform) {\n    // On Mac when the command key is kept pressed, keyup is not triggered for any other key.\n    // In this case force a keyup for non-modifier keys directly after the keypress.\n    const modifierKeys = [\"shift\", \"ctrl\", \"alt\", \"capslock\", \"tab\", \"command\"];\n    if (platform.match(\"Mac\") && this._locale.pressedKeys.includes(\"command\") &&\n        !modifierKeys.includes(this._locale.getKeyNames(event.keyCode)[0])) {\n      this._targetKeyUpBinding(event);\n    }\n  }\n}\n","\nexport function us(locale, platform, userAgent) {\n\n  // general\n  locale.bindKeyCode(3,   ['cancel']);\n  locale.bindKeyCode(8,   ['backspace']);\n  locale.bindKeyCode(9,   ['tab']);\n  locale.bindKeyCode(12,  ['clear']);\n  locale.bindKeyCode(13,  ['enter']);\n  locale.bindKeyCode(16,  ['shift']);\n  locale.bindKeyCode(17,  ['ctrl']);\n  locale.bindKeyCode(18,  ['alt', 'menu']);\n  locale.bindKeyCode(19,  ['pause', 'break']);\n  locale.bindKeyCode(20,  ['capslock']);\n  locale.bindKeyCode(27,  ['escape', 'esc']);\n  locale.bindKeyCode(32,  ['space', 'spacebar']);\n  locale.bindKeyCode(33,  ['pageup']);\n  locale.bindKeyCode(34,  ['pagedown']);\n  locale.bindKeyCode(35,  ['end']);\n  locale.bindKeyCode(36,  ['home']);\n  locale.bindKeyCode(37,  ['left']);\n  locale.bindKeyCode(38,  ['up']);\n  locale.bindKeyCode(39,  ['right']);\n  locale.bindKeyCode(40,  ['down']);\n  locale.bindKeyCode(41,  ['select']);\n  locale.bindKeyCode(42,  ['printscreen']);\n  locale.bindKeyCode(43,  ['execute']);\n  locale.bindKeyCode(44,  ['snapshot']);\n  locale.bindKeyCode(45,  ['insert', 'ins']);\n  locale.bindKeyCode(46,  ['delete', 'del']);\n  locale.bindKeyCode(47,  ['help']);\n  locale.bindKeyCode(145, ['scrolllock', 'scroll']);\n  locale.bindKeyCode(188, ['comma', ',']);\n  locale.bindKeyCode(190, ['period', '.']);\n  locale.bindKeyCode(191, ['slash', 'forwardslash', '/']);\n  locale.bindKeyCode(192, ['graveaccent', '`']);\n  locale.bindKeyCode(219, ['openbracket', '[']);\n  locale.bindKeyCode(220, ['backslash', '\\\\']);\n  locale.bindKeyCode(221, ['closebracket', ']']);\n  locale.bindKeyCode(222, ['apostrophe', '\\'']);\n\n  // 0-9\n  locale.bindKeyCode(48, ['zero', '0']);\n  locale.bindKeyCode(49, ['one', '1']);\n  locale.bindKeyCode(50, ['two', '2']);\n  locale.bindKeyCode(51, ['three', '3']);\n  locale.bindKeyCode(52, ['four', '4']);\n  locale.bindKeyCode(53, ['five', '5']);\n  locale.bindKeyCode(54, ['six', '6']);\n  locale.bindKeyCode(55, ['seven', '7']);\n  locale.bindKeyCode(56, ['eight', '8']);\n  locale.bindKeyCode(57, ['nine', '9']);\n\n  // numpad\n  locale.bindKeyCode(96, ['numzero', 'num0']);\n  locale.bindKeyCode(97, ['numone', 'num1']);\n  locale.bindKeyCode(98, ['numtwo', 'num2']);\n  locale.bindKeyCode(99, ['numthree', 'num3']);\n  locale.bindKeyCode(100, ['numfour', 'num4']);\n  locale.bindKeyCode(101, ['numfive', 'num5']);\n  locale.bindKeyCode(102, ['numsix', 'num6']);\n  locale.bindKeyCode(103, ['numseven', 'num7']);\n  locale.bindKeyCode(104, ['numeight', 'num8']);\n  locale.bindKeyCode(105, ['numnine', 'num9']);\n  locale.bindKeyCode(106, ['nummultiply', 'num*']);\n  locale.bindKeyCode(107, ['numadd', 'num+']);\n  locale.bindKeyCode(108, ['numenter']);\n  locale.bindKeyCode(109, ['numsubtract', 'num-']);\n  locale.bindKeyCode(110, ['numdecimal', 'num.']);\n  locale.bindKeyCode(111, ['numdivide', 'num/']);\n  locale.bindKeyCode(144, ['numlock', 'num']);\n\n  // function keys\n  locale.bindKeyCode(112, ['f1']);\n  locale.bindKeyCode(113, ['f2']);\n  locale.bindKeyCode(114, ['f3']);\n  locale.bindKeyCode(115, ['f4']);\n  locale.bindKeyCode(116, ['f5']);\n  locale.bindKeyCode(117, ['f6']);\n  locale.bindKeyCode(118, ['f7']);\n  locale.bindKeyCode(119, ['f8']);\n  locale.bindKeyCode(120, ['f9']);\n  locale.bindKeyCode(121, ['f10']);\n  locale.bindKeyCode(122, ['f11']);\n  locale.bindKeyCode(123, ['f12']);\n  locale.bindKeyCode(124, ['f13']);\n  locale.bindKeyCode(125, ['f14']);\n  locale.bindKeyCode(126, ['f15']);\n  locale.bindKeyCode(127, ['f16']);\n  locale.bindKeyCode(128, ['f17']);\n  locale.bindKeyCode(129, ['f18']);\n  locale.bindKeyCode(130, ['f19']);\n  locale.bindKeyCode(131, ['f20']);\n  locale.bindKeyCode(132, ['f21']);\n  locale.bindKeyCode(133, ['f22']);\n  locale.bindKeyCode(134, ['f23']);\n  locale.bindKeyCode(135, ['f24']);\n\n  // secondary key symbols\n  locale.bindMacro('shift + `', ['tilde', '~']);\n  locale.bindMacro('shift + 1', ['exclamation', 'exclamationpoint', '!']);\n  locale.bindMacro('shift + 2', ['at', '@']);\n  locale.bindMacro('shift + 3', ['number', '#']);\n  locale.bindMacro('shift + 4', ['dollar', 'dollars', 'dollarsign', '$']);\n  locale.bindMacro('shift + 5', ['percent', '%']);\n  locale.bindMacro('shift + 6', ['caret', '^']);\n  locale.bindMacro('shift + 7', ['ampersand', 'and', '&']);\n  locale.bindMacro('shift + 8', ['asterisk', '*']);\n  locale.bindMacro('shift + 9', ['openparen', '(']);\n  locale.bindMacro('shift + 0', ['closeparen', ')']);\n  locale.bindMacro('shift + -', ['underscore', '_']);\n  locale.bindMacro('shift + =', ['plus', '+']);\n  locale.bindMacro('shift + [', ['opencurlybrace', 'opencurlybracket', '{']);\n  locale.bindMacro('shift + ]', ['closecurlybrace', 'closecurlybracket', '}']);\n  locale.bindMacro('shift + \\\\', ['verticalbar', '|']);\n  locale.bindMacro('shift + ;', ['colon', ':']);\n  locale.bindMacro('shift + \\'', ['quotationmark', '\\'']);\n  locale.bindMacro('shift + !,', ['openanglebracket', '<']);\n  locale.bindMacro('shift + .', ['closeanglebracket', '>']);\n  locale.bindMacro('shift + /', ['questionmark', '?']);\n\n  if (platform.match('Mac')) {\n    locale.bindMacro('command', ['mod', 'modifier']);\n  } else {\n    locale.bindMacro('ctrl', ['mod', 'modifier']);\n  }\n\n  //a-z and A-Z\n  for (let keyCode = 65; keyCode <= 90; keyCode += 1) {\n    var keyName = String.fromCharCode(keyCode + 32);\n    var capitalKeyName = String.fromCharCode(keyCode);\n  \tlocale.bindKeyCode(keyCode, keyName);\n  \tlocale.bindMacro('shift + ' + keyName, capitalKeyName);\n  \tlocale.bindMacro('capslock + ' + keyName, capitalKeyName);\n  }\n\n  // browser caveats\n  const semicolonKeyCode = userAgent.match('Firefox') ? 59  : 186;\n  const dashKeyCode      = userAgent.match('Firefox') ? 173 : 189;\n  const equalKeyCode     = userAgent.match('Firefox') ? 61  : 187;\n  let leftCommandKeyCode;\n  let rightCommandKeyCode;\n  if (platform.match('Mac') && (userAgent.match('Safari') || userAgent.match('Chrome'))) {\n    leftCommandKeyCode  = 91;\n    rightCommandKeyCode = 93;\n  } else if(platform.match('Mac') && userAgent.match('Opera')) {\n    leftCommandKeyCode  = 17;\n    rightCommandKeyCode = 17;\n  } else if(platform.match('Mac') && userAgent.match('Firefox')) {\n    leftCommandKeyCode  = 224;\n    rightCommandKeyCode = 224;\n  }\n  locale.bindKeyCode(semicolonKeyCode,    ['semicolon', ';']);\n  locale.bindKeyCode(dashKeyCode,         ['dash', '-']);\n  locale.bindKeyCode(equalKeyCode,        ['equal', 'equalsign', '=']);\n  locale.bindKeyCode(leftCommandKeyCode,  ['command', 'windows', 'win', 'super', 'leftcommand', 'leftwindows', 'leftwin', 'leftsuper']);\n  locale.bindKeyCode(rightCommandKeyCode, ['command', 'windows', 'win', 'super', 'rightcommand', 'rightwindows', 'rightwin', 'rightsuper']);\n\n  // kill keys\n  locale.setKillKey('command');\n};\n","import { Keyboard } from './lib/keyboard';\nimport { Locale } from './lib/locale';\nimport { KeyCombo } from './lib/key-combo';\nimport { us } from './locales/us';\n\nconst keyboard = new Keyboard();\n\nkeyboard.setLocale('us', us);\n\nkeyboard.Keyboard = Keyboard;\nkeyboard.Locale = Locale;\nkeyboard.KeyCombo = KeyCombo;\n\nexport default keyboard;\n","var render, staticRenderFns\nimport script from \"./components.vue?vue&type=script&lang=js&\"\nexport * from \"./components.vue?vue&type=script&lang=js&\"\nimport style0 from \"./components.vue?vue&type=style&index=0&id=25af8181&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25af8181\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport Logo from '@/assets/logo.png'\r\nexport default {\r\n  data() {\r\n    return {\r\n      components: [\r\n        {\r\n          type: 'label',\r\n          value: 'Hi~我是一段文本',\r\n          name: '标签',\r\n          width: 150,\r\n          height: 30,\r\n        },\r\n        {\r\n          type: 'input',\r\n          value: '输入',\r\n          inputType: 'input',\r\n          name: '输入',\r\n          width: 150,\r\n          height: 30,\r\n        },\r\n        {\r\n          type: 'select',\r\n          options: [],\r\n          name: '选项',\r\n          width: 150,\r\n          height: 30,\r\n        },\r\n        {\r\n          type: 'img',\r\n          name: '图片',\r\n          url: Logo,\r\n          width: 100,\r\n          height: 100,\r\n        },\r\n        {\r\n          type: 'input',\r\n          inputType: 'checkbox',\r\n          name: '复选框',\r\n          label: '多选',\r\n          width: 100,\r\n          height: 30,\r\n        },\r\n        {\r\n          type: 'input',\r\n          inputType: 'radio',\r\n          name: '单选框',\r\n          label: '单选',\r\n          width: 100,\r\n          height: 30,\r\n        },\r\n        {\r\n          type: 'input',\r\n          inputType: 'button',\r\n          name: '按钮',\r\n          value: 'Button',\r\n          width: 100,\r\n          height: 30,\r\n        },\r\n        {\r\n          type: 'input',\r\n          inputType: 'date',\r\n          name: '日期',\r\n          value: '2021-10-10',\r\n          width: 100,\r\n          height: 30,\r\n        },\r\n        {\r\n          type: 'container',\r\n          name: '容器',\r\n          width: 200,\r\n          height: 200,\r\n          children: [],\r\n        },\r\n        {\r\n          type: 'search',\r\n          name: '搜索',\r\n          width: 100,\r\n          height: 100,\r\n        },\r\n        {\r\n          type: 'cart',\r\n          name: '购物车',\r\n          width: 100,\r\n          height: 100,\r\n        },\r\n        {\r\n          type: 'message',\r\n          name: '消息',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'user',\r\n          name: '用户',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'shopping',\r\n          name: '逛店',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'newProduct',\r\n          name: '新品',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'home',\r\n          name: '首页',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'attention',\r\n          name: '关注',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'friend',\r\n          name: '朋友',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'live',\r\n          name: '直播',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'hot',\r\n          name: '热点',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'commend',\r\n          name: '推荐',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'safety',\r\n          name: '安全',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'sports',\r\n          name: '体育',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'game',\r\n          name: '游戏',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'mail',\r\n          name: '私信' ,\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'notice',\r\n          name: '通知' ,\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'history',\r\n          name: '历史' ,\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'collect',\r\n          name: '收藏' ,\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'upload',\r\n          name: '上传' ,\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n        {\r\n          type: 'like',\r\n          name: '点赞',\r\n          width: 50,\r\n          height: 50,\r\n        },\r\n      ],\r\n    }\r\n  },\r\n  methods: {\r\n    handleDrag(e, item) {\r\n      e.dataTransfer.dropEffect = 'copy'\r\n      e.dataTransfer.setData('text/component', JSON.stringify(item))\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <div class=\"vs-components\">\r\n        {this.components.map((item, index) => {\r\n          return (\r\n            <div ondragstart={(e) => this.handleDrag(e, item)} draggable=\"true\" class=\"components-item\" key={index}>\r\n              <img class=\"components-icon\" src={require('@/assets/' + (item.inputType || item.type) + '.png')}/>\r\n              {item.name}\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.vs-components {\r\n  width: 100px;\r\n  border-right: 1px solid #ececec;\r\n  position: relative;\r\n  left: 0;\r\n  overflow-y: scroll;\r\n  background: #f8f8f8;\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n  .components-icon {\r\n    width: 35px;\r\n    height: 35px;\r\n    margin-bottom: 6px;\r\n  }\r\n}\r\n.components-item {\r\n  height: 100px;\r\n  width: 100%;\r\n  float: left;\r\n  display: flex;\r\n  &:nth-child(2n + 1) {\r\n    border-right: 1px solid #ececec;\r\n  }\r\n  border-bottom: 1px solid #ececec;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: move;\r\n  flex-direction: column;\r\n  font-weight: 300;\r\n  &:hover {\r\n    background: #dbdcde;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./components.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./components.vue?vue&type=script&lang=js&\"","class Vector {\r\n  constructor(lst) {\r\n    this._values = lst\r\n  }\r\n\r\n  toString() {\r\n    return `Vector(${this._values.join(', ')})`\r\n  }\r\n\r\n  get length() {\r\n    return this._values.length\r\n  }\r\n\r\n  dot(vector) {\r\n    if (vector instanceof Vector && this.length === vector.length) {\r\n      return this._values.map((item, index) => item * vector._values[index]).reduce((a, b) => a + b)\r\n    }\r\n    throw Error('The param `vector` must instance of Vector')\r\n  }\r\n\r\n  get(index) {\r\n    return this._values[index]\r\n  }\r\n}\r\n\r\nexport default Vector\r\n","import Vector from './Vector'\r\n\r\nclass Matrix{\r\n    constructor(values){\r\n        this._values = values\r\n    }\r\n    \r\n    static zeros(shape){\r\n        return new Matrix(new Array(shape[0]).fill(null).map(()=>new Array(shape[1]).fill(0)))\r\n    }\r\n    \r\n    valueOf(){\r\n        return JSON.parse(JSON.stringify(this._values))\r\n    }\r\n    \r\n    toString(){\r\n        return 'Matrix ( ' + this._values.map(item=>item.join(' ')).join(', ') + ' )'\r\n    }\r\n    \r\n    rows(){\r\n        return this._values.length\r\n    }\r\n    \r\n    cols(){\r\n        return this._values[0].length\r\n    }\r\n    \r\n    rowVector(row){\r\n        return new Vector(this._values[row].slice(0))\r\n    }\r\n    \r\n    colVector(col){\r\n        let v = new Array(this.rows()).fill(0)\r\n        this._values.forEach((item, index)=>{\r\n            v[index] = item[col]\r\n        })\r\n        return new Vector(v)\r\n    }\r\n    \r\n    dot(v){\r\n        if(v instanceof Vector && this.cols() === v.length) {\r\n            return new Vector(new Array(v.length).fill(null).map((item, index)=>{\r\n                return this.rowVector(index).dot(v)\r\n            }))\r\n        }\r\n        if(v instanceof Matrix && this.cols() === v.rows()) {\r\n            let cols = v.cols(), rows = v.rows()\r\n            let newMatrix = Matrix.zeros([rows, cols])\r\n            let v1\r\n            for(let i = 0; i < cols; i++) {\r\n                v1 = this.dot(v.colVector(i))\r\n                for(let j = 0; j < rows; j++) {\r\n                    newMatrix._values[j][i] = v1.get(j)\r\n                }\r\n            }\r\n            return newMatrix\r\n        }\r\n        throw  Error('expected a Vector or Matrix but got ' + typeof v)\r\n    }\r\n    \r\n    get(row, col){\r\n        return this._values[row][col]\r\n    }\r\n    \r\n    T(){\r\n        return new Matrix(new Array(this.cols()).fill(null).map((_, colIndex)=>{\r\n            return new Array(this.rows()).fill(0).map((_, rowIndex)=>{\r\n                return this.get(rowIndex, colIndex)\r\n            })\r\n        }))\r\n    }\r\n}\r\n\r\nexport default Matrix","import Matrix from './Matrix'\r\n\r\n// 缩放时基于对角坐标固定缩放\r\n// 矩形除了4个直角坐标点外，还有每条边的一个中心点坐标，按照数组的顺序从左上顺时针到左中排列\r\n// 例如：拖拽点为右中，对应的固定点为左中。拖拽点为左上，对应的固定点为右下\r\nexport const pointMap = {\r\n  br: 0,\r\n  bm: 1,\r\n  bl: 2,\r\n  l: 3,\r\n  tl: 4,\r\n  tm: 5,\r\n  tr: 6,\r\n  r: 7,\r\n}\r\n\r\nexport const handlerPointMap = {\r\n  tl: 0,\r\n  tm: 1,\r\n  tr: 2,\r\n  r: 3,\r\n  br: 4,\r\n  bm: 5,\r\n  bl: 6,\r\n  l: 7,\r\n}\r\n// 计算矩形大小时使用四个直角坐标\r\nexport const pointMap2 = {\r\n  br: 0,\r\n  bm: 0,\r\n  bl: 2,\r\n  l: 2,\r\n  tl: 4,\r\n  tm: 4,\r\n  tr: 6,\r\n  r: 6,\r\n}\r\n\r\nexport const widthMap = {\r\n  l: 1,\r\n  r: 1,\r\n}\r\nexport const heightMap = {\r\n  tm: 1,\r\n  bm: 1,\r\n}\r\nexport const tr2bl = {\r\n  tr: 1,\r\n  bl: 1,\r\n  r: 1,\r\n  l: 1,\r\n}\r\n\r\nexport function deg2rad(deg) {\r\n  return (deg * Math.PI) / 180\r\n}\r\n\r\nexport function rad2deg(rad) {\r\n  return (rad * 180) / Math.PI\r\n}\r\n\r\n// 获取矩形旋转后在平面上的8个坐标点，从左上角顺时针放到数组里返回\r\nexport function getPoints({ x, y, width, height, rotation }, zoom) {\r\n  let a = (rotation * Math.PI) / 180\r\n  let wc = (width / 2) * zoom\r\n  let hc = (height / 2) * zoom\r\n  // 标准的矩阵点乘公式，返回旋转后的坐标\r\n  let deg = new Matrix([[Math.cos(a), Math.sin(a)], [-Math.sin(a), Math.cos(a)]])\r\n  let rect = new Matrix([[-wc, hc], [0, hc], [wc, hc], [wc, 0], [wc, -hc], [0, -hc], [-wc, -hc], [-wc, 0]])\r\n  return deg\r\n    .dot(rect.T())\r\n    .T()\r\n    .valueOf()\r\n    .map((item) => {\r\n      return { x: item[0] + wc + x * zoom, y: -(item[1] - hc) + y * zoom }\r\n    })\r\n}\r\nexport function getBoundingRect(transform) {\r\n  if (transform.rotation === 0) {\r\n    return {\r\n      left: transform.x,\r\n      top: transform.y,\r\n      right: transform.x + transform.width,\r\n      bottom: transform.y + transform.height,\r\n      width: transform.width,\r\n      height: transform.height,\r\n    }\r\n  }\r\n  let points = getPoints(transform)\r\n  let xarray = [],\r\n    yarray = []\r\n  points.forEach((element) => {\r\n    xarray.push(element.x)\r\n    yarray.push(element.y)\r\n  })\r\n  xarray = xarray.sort((a, b) => a - b)\r\n  yarray = yarray.sort((a, b) => a - b)\r\n  let left = xarray[0],\r\n    right = xarray[xarray.length - 1]\r\n  let top = yarray[0],\r\n    bottom = yarray[yarray.length - 1]\r\n  return {\r\n    left,\r\n    right,\r\n    top,\r\n    bottom,\r\n    width: right - left,\r\n    height: bottom - top,\r\n  }\r\n}\r\n\r\n// 计算当前矩形的宽高\r\nexport function getSize({ type, x, y, dis, pressAngle, startAngle }) {\r\n  let w, h\r\n  let currentAngle = rad2deg(Math.atan2(y, x))\r\n  let rad = deg2rad(pressAngle + currentAngle - startAngle)\r\n  if (tr2bl[type]) {\r\n    h = Math.cos(rad) * dis\r\n    w = Math.sin(rad) * dis\r\n  } else {\r\n    h = Math.sin(rad) * dis\r\n    w = Math.cos(rad) * dis\r\n  }\r\n  return { w, h }\r\n}\r\n\r\nconst cursorMap = ['nw', 'n', 'ne', 'e', 'se', 's', 'sw', 'w']\r\nconst handlerMap = { tl: 0, tm: 1, tr: 2, r: 3, br: 4, bm: 5, bl: 6, l: 7 }\r\n\r\nexport function getHandler(type, rotation) {\r\n  let originIndex = handlerMap[type]\r\n  let currentIndex = (originIndex + Math.floor(rotation / 45)) % 8\r\n  return cursorMap[currentIndex]\r\n}\r\n","<script>\r\nimport {\r\n  getHandler,\r\n  getPoints,\r\n  getSize,\r\n  handlerPointMap,\r\n  heightMap,\r\n  pointMap,\r\n  pointMap2,\r\n  rad2deg,\r\n  tr2bl,\r\n  widthMap,\r\n} from './helper'\r\n\r\nexport default {\r\n  name: 'ddr',\r\n  props: {\r\n    value: {\r\n      default: function() {\r\n        return { x: 0, y: 0, width: 100, height: 100, rotation: 0 }\r\n      },\r\n      type: Object,\r\n    },\r\n    handlerSize: {\r\n      type: Number,\r\n      default: 11,\r\n    },\r\n    active: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n    resizeHandler: {\r\n      default: function() {\r\n        return ['tl', 'tm', 'tr', 'r', 'br', 'bm', 'bl', 'l']\r\n      },\r\n      type: Array,\r\n    },\r\n    resizable: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n    rotatable: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n    draggable: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n    fixedRatio: {\r\n      default: false,\r\n      type: Boolean,\r\n    },\r\n    minWidth: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    minHeight: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    maxWidth: {\r\n      type: Number,\r\n      default: 100000000,\r\n    },\r\n    maxHeight: {\r\n      type: Number,\r\n      default: 100000000,\r\n    },\r\n    parent: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    beforeActive: {\r\n      type: Function,\r\n      default: () => false,\r\n    },\r\n    id: [Number, String],\r\n    renderContent: Function,\r\n    grid: {\r\n      type: Array,\r\n      default: () => [1, 1],\r\n    },\r\n    stop: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n    prevent: {\r\n      default: true,\r\n      type: Boolean,\r\n    },\r\n    zoom: {\r\n      default: 1,\r\n      type: Number,\r\n    },\r\n    axis: {\r\n      type: String,\r\n      default: 'xy', // x | y 不填写则都可以移动，仅移动时生效\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      transform: Object.assign({}, this.value),\r\n      currentRatio: 1,\r\n      isInitialRatio: false,\r\n      isDragging: false,\r\n      isResizing: false,\r\n      isRotating: false,\r\n      isReadyToDrag: false,\r\n      isReadyToResize: false,\r\n      isReadyToRotate: false,\r\n    }\r\n  },\r\n  created() {\r\n    // 缓存当前位置信息\r\n    this.localeTransform = { ...this.transform }\r\n  },\r\n  watch: {\r\n    value(t) {\r\n      this.transform = { ...t }\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    rotateHandler() {\r\n      let size = Math.ceil(this.handlerSize / this.zoom) + 'px'\r\n      return `width:${size};height:${size};top:-25px;margin-left:${-Math.floor(this.handlerSize / 2)}px`\r\n    },\r\n    style() {\r\n      let transform = this.transform\r\n      return `left:${transform.x}px;top:${transform.y}px;width:${transform.width}px;height:${\r\n        transform.height\r\n      }px;transform:rotate(${transform.rotation}deg)`\r\n    },\r\n  },\r\n  methods: {\r\n    handleDefaultEvent(e) {\r\n      if (this.stop) {\r\n        e.stopPropagation()\r\n      }\r\n      if (this.prevent) {\r\n        e.preventDefault()\r\n      }\r\n    },\r\n    getNewHandler(type) {\r\n      let cursor = getHandler(type, this.transform.rotation)\r\n      let { handlerSize } = this\r\n      let props = {}\r\n      let half = -Math.floor(handlerSize / 2) + 'px'\r\n      switch (type) {\r\n        case 'tl':\r\n          props = {\r\n            top: half,\r\n            left: half,\r\n          }\r\n          break\r\n        case 'tm':\r\n          props = { top: half, 'margin-left': half }\r\n          break\r\n        case 'tr':\r\n          props = { right: half, top: half }\r\n          break\r\n        case 'r':\r\n          props = { right: half, 'margin-top': half }\r\n          break\r\n        case 'br':\r\n          props = { bottom: half, right: half }\r\n          break\r\n        case 'bm':\r\n          props = { 'margin-left': half, bottom: half }\r\n          break\r\n        case 'bl':\r\n          props = { left: half, bottom: half }\r\n          break\r\n        case 'l':\r\n          props = { 'margin-top': half, left: half }\r\n          break\r\n      }\r\n      let result = {\r\n        cursor: cursor + '-resize',\r\n        width: Math.ceil(handlerSize / this.zoom) + 'px',\r\n        height: Math.ceil(handlerSize / this.zoom) + 'px',\r\n        ...props,\r\n      }\r\n      return Object.keys(result)\r\n        .map((item) => `${item}:${result[item]}`)\r\n        .join(';')\r\n    },\r\n    emitChange() {\r\n      this.$emit('input', { ...this.transform })\r\n    },\r\n    handleMouseDown(event) {\r\n      if (!this.active && !this.beforeActive(this.id)) return\r\n      this.handleDefaultEvent(event)\r\n      let point = event.touches ? event.touches[0] : event\r\n      let { clientX, clientY } = point\r\n      this._lastX = clientX\r\n      this._lastY = clientY\r\n      this._activeTarget = event.target\r\n      this._parentRect = this.$refs.wrapper.parentNode.getBoundingClientRect()\r\n      this._resizeHandler = event.target.dataset.resizetype\r\n      this.localeTransform = { ...this.transform }\r\n      // 如果设置了限制在父元素的边界内移\r\n      // 计算组件的边界，在移动时进行判断并修正\r\n      if (this.parent) {\r\n        let minLeft = 0\r\n        let maxLeft = this._parentRect.width / this.zoom - this.transform.width\r\n        let minTop = 0\r\n        let maxTop = this._parentRect.height / this.zoom - this.transform.height\r\n        let maxLeftWidth = this.transform.x + this.transform.width\r\n        let maxRightWidth = this._parentRect.width / this.zoom - this.transform.x\r\n        let maxTopHeight = this.transform.y + this.transform.height\r\n        let maxBottomHeight = this._parentRect.height / this.zoom - this.transform.y\r\n        this.bounday = {\r\n          minLeft,\r\n          maxLeft,\r\n          minTop,\r\n          maxTop,\r\n          maxLeftWidth,\r\n          maxRightWidth,\r\n          maxTopHeight,\r\n          maxBottomHeight,\r\n        }\r\n      }\r\n      // 添加事件，该事件会在up时移除\r\n      document.addEventListener('mousemove', this.handleMouseMove, false)\r\n      document.addEventListener('touchmove', this.handleMouseMove, false)\r\n      document.addEventListener('touchend', this.handleMouseUp, false)\r\n      document.addEventListener('mouseup', this.handleMouseUp, false)\r\n      if (event.target.dataset.type === 'rotate') {\r\n        this._handlerType = 'rotate'\r\n        this.isReadyToRotate = true\r\n        this.handleRotateStart(event)\r\n        this.$emit('rotatestart', event, this.transform)\r\n      } else if (this._activeTarget.dataset.resizetype) {\r\n        this._handlerType = 'resize'\r\n        this.isReadyToResize = true\r\n        this.handleResizeStart(event)\r\n        this.$emit('resizestart', event, this.transform)\r\n      } else {\r\n        this._handlerType = 'drag'\r\n        this.isReadyToDrag = true\r\n        this.draggable && this.$emit('dragstart', event, this.transform)\r\n      }\r\n    },\r\n    handleMouseMove(event) {\r\n      this.handleDefaultEvent(event)\r\n      let { clientX, clientY } = event.touches ? event.touches[0] : event\r\n      this.isReadyToDrag = false\r\n      this.isReadyToResize = false\r\n      this.isReadyToRotate = false\r\n      this._deltaX = clientX - this._lastX\r\n      this._deltaY = clientY - this._lastY\r\n      this._lastX = clientX\r\n      this._lastY = clientY\r\n      if (this._handlerType === 'resize') {\r\n        this.isResizing = true\r\n        this.handleResizeMove(event)\r\n        this.$emit('resize', event, this.transform)\r\n      } else if (this._handlerType === 'drag' && this.draggable) {\r\n        this.isDragging = true\r\n        this.doMove(event)\r\n        this.$emit('drag', event, this.transform)\r\n      } else if (this._handlerType === 'rotate') {\r\n        this.isRotating = true\r\n        this.handleRotateMove(event)\r\n        this.$emit('rotate', event, this.transform)\r\n      }\r\n      this.emitChange()\r\n    },\r\n\r\n    doMove() {\r\n      let [gridX, gridY] = this.grid\r\n      let deltaX = this._deltaX / this.zoom\r\n      let deltaY = this._deltaY / this.zoom\r\n      let x = (this.localeTransform.x = Math.round(this.localeTransform.x + deltaX))\r\n      let y = (this.localeTransform.y = Math.round(this.localeTransform.y + deltaY))\r\n\r\n      // 将当前位置对齐网格，限制在父元素内进行移动\r\n      // 当deltaX > 0 说明当前移动方向为向右移动，则向下取整。例如：10 12 14 始终取 10\r\n      // 当deltaY < 0 说明当干移动方向为向左移动，则向上取整。例如：20 19 17 始终取 20\r\n      if (this.axis.includes('x')) {\r\n        if (x > this.transform.x) {\r\n          this.transform.x = this.restrictToLeftOfParent(x - (x % gridX))\r\n        } else if (x < this.transform.x) {\r\n          this.transform.x = this.restrictToLeftOfParent(x - ((x % gridX) - gridX))\r\n        }\r\n      }\r\n\r\n      if (this.axis.includes('y')) {\r\n        if (y > this.transform.y) {\r\n          this.transform.y = this.restrictToTopOfParent(y - (y % gridY))\r\n        } else if (y < this.transform.y) {\r\n          this.transform.y = this.restrictToTopOfParent(y - ((y % gridY) - gridY))\r\n        }\r\n      }\r\n    },\r\n    restrictToLeftOfParent(x) {\r\n      if (!this.parent) return x\r\n      x = Math.max(this.bounday.minLeft, x)\r\n      x = Math.min(this.bounday.maxLeft, x)\r\n      return x\r\n    },\r\n    restrictToTopOfParent(y) {\r\n      if (!this.parent) return y\r\n      y = Math.max(this.bounday.minTop, y)\r\n      y = Math.min(this.bounday.maxTop, y)\r\n      return y\r\n    },\r\n    restrictHeight(h, type) {\r\n      if (!this.parent || this.transform.rotation > 0) return h\r\n      if (['bl', 'bm', 'br'].includes(type)) return Math.min(this.bounday.maxBottomHeight, h)\r\n      if (['tl', 'tm', 'tr'].includes(type)) return Math.min(this.bounday.maxTopHeight, h)\r\n      return h\r\n    },\r\n    restrictWidth(w, type) {\r\n      if (!this.parent || this.transform.rotation > 0) return w\r\n      if (['tl', 'l', 'bl'].includes(type)) return Math.min(this.bounday.maxLeftWidth, w)\r\n      if (['tr', 'r', 'br'].includes(type)) return Math.min(this.bounday.maxRightWidth, w)\r\n      return w\r\n    },\r\n    handleMouseUp(event) {\r\n      this.handleDefaultEvent(event)\r\n      document.removeEventListener('mousemove', this.handleMouseMove, false)\r\n      document.removeEventListener('mouseup', this.handleMouseUp, false)\r\n      document.removeEventListener('touchmove', this.handleMouseMove, false)\r\n      document.removeEventListener('touchend', this.handleMouseUp, false)\r\n\r\n      let ev = {\r\n        drag: 'draggable',\r\n        resize: 'resizable',\r\n        rotate: 'rotatable',\r\n      }\r\n\r\n      this.isInitialRatio = this.isDragging = this.isResizing = this.isRotating = false\r\n      this.isReadyToDrag = this.isReadyToResize = this.isReadyToRotate = false\r\n      this[ev[this._handlerType]] && this.$emit(this._handlerType + 'end', event, this.transform)\r\n    },\r\n    handleResizeStart(event) {\r\n      let type = this._resizeHandler\r\n      let rect = this.transform\r\n      let matrix = getPoints(rect, this.zoom)\r\n      let pressAngle\r\n      // 当前控制点的对角坐标点，该坐标会用来计算新的位置\r\n      // 例如：bottomRight(右下角) 对应 topLeft(左上角)\r\n      let opposite = matrix[pointMap[type]]\r\n      // 与上面的区别是，这里的对角坐标只能是4个直角坐标，用于计算新的宽高\r\n      // 例如：例如：bottomRight 和 bottom 都对应 topLeft\r\n      let opp2 = matrix[pointMap2[type]]\r\n      let { clientX, clientY } = event.touches ? event.touches[0] : event\r\n      // issues: https://github.com/zuimeiaj/yoyoo-ddr/issues/34\r\n      // 在进行缩放时，需要考虑鼠标位置距离拖拽点中心位置的偏移值，否则拖拽时会有抖动\r\n      let handlerPoint = matrix[handlerPointMap[type]]\r\n      let offsetX = clientX - handlerPoint.x\r\n      let offsetY = clientY - handlerPoint.y\r\n\r\n      let x1 = clientX - opp2.x - offsetX\r\n      let y1 = clientY - opp2.y - offsetY\r\n      let width = rect.width\r\n      let height = rect.height\r\n      // 有问题\r\n      if (tr2bl[type]) {\r\n        pressAngle = rad2deg(Math.atan2(width, widthMap[type] ? height / 2 : height))\r\n      } else {\r\n        pressAngle = rad2deg(Math.atan2(height, heightMap[type] ? width / 2 : width))\r\n      }\r\n      let startAngle = rad2deg(Math.atan2(y1, x1))\r\n      this._resizeOpt = {\r\n        matrix,\r\n        rect,\r\n        type,\r\n        opposite,\r\n        opp2,\r\n        pressAngle,\r\n        startAngle,\r\n        offsetX,\r\n        offsetY,\r\n      }\r\n    },\r\n    handleResizeMove(event) {\r\n      let { clientX, clientY } = event.touches ? event.touches[0] : event\r\n      let { opposite, opp2, type, pressAngle, startAngle, offsetX, offsetY } = this._resizeOpt\r\n      let x = clientX - opp2.x - offsetX\r\n      let y = clientY - opp2.y - offsetY\r\n      let dis = Math.hypot(y, x)\r\n      let ratio = event.shiftKey || this.fixedRatio\r\n      let [gridX, gridY] = this.grid\r\n      // 锁定纵横比\r\n      if (!this.isInitialRatio && ratio) {\r\n        this.currentRatio = this.transform.width / this.transform.height\r\n        this.isInitialRatio = true\r\n      }\r\n      if (!ratio) {\r\n        this.isInitialRatio = false\r\n      }\r\n\r\n      // 获取新的宽度和高度\r\n      let { w, h } = getSize({\r\n        type,\r\n        dis,\r\n        x,\r\n        y,\r\n        startAngle,\r\n        pressAngle,\r\n      })\r\n      let transform = { ...this.localeTransform }\r\n\r\n      // 进行等比例缩放\r\n      if (this.isInitialRatio) {\r\n        if (widthMap[type]) h = w / this.currentRatio\r\n        else w = h * this.currentRatio\r\n      }\r\n      // 还原到实际尺寸\r\n      w /= this.zoom\r\n      h /= this.zoom\r\n      w = Math.min(Math.max(Math.round(w), this.minWidth), this.maxWidth)\r\n      h = Math.min(Math.max(Math.round(h), this.minHeight), this.maxHeight)\r\n      // 判断当前控制点是否为宽度缩放还是高度缩放\r\n      if (widthMap[type] && !ratio) {\r\n        transform.width = w\r\n      } else if (heightMap[type] && !ratio) {\r\n        transform.height = h\r\n      } else {\r\n        transform.width = w\r\n        transform.height = h\r\n      }\r\n\r\n      let resizeType = this._resizeHandler\r\n      // // 限制在网格中移动，原理同拖动\r\n      if (transform.width % gridX > 0) {\r\n        if (transform.width > this.localeTransform.width) {\r\n          // 宽度变大时向下取整\r\n          transform.width = transform.width - (transform.width % gridX)\r\n        } else {\r\n          // 宽度变小时向上取整\r\n          transform.width = transform.width - ((transform.width % gridX) - gridX)\r\n        }\r\n      }\r\n\r\n      // 原理同上\r\n      if (transform.height % gridY > 0) {\r\n        if (transform.height > this.localeTransform.height) {\r\n          transform.height = transform.height - (transform.height % gridY)\r\n        } else {\r\n          transform.height = transform.height - ((transform.height % gridY) - gridY)\r\n        }\r\n      }\r\n      // 限制在父元素中\r\n      transform.height = this.restrictHeight(transform.height, resizeType)\r\n      transform.width = this.restrictWidth(transform.width, resizeType)\r\n\r\n      // 根据新的旋转和宽高计算新的位置\r\n      let matrix = getPoints(transform, this.zoom)\r\n      let newOpposite = matrix[pointMap[type]]\r\n      let deltaX = -(newOpposite.x - opposite.x) / this.zoom\r\n      let deltaY = -(newOpposite.y - opposite.y) / this.zoom\r\n      transform.x = Math.round(transform.x + deltaX)\r\n      transform.y = Math.round(transform.y + deltaY)\r\n      this.transform = transform\r\n    },\r\n\r\n    handleRotateStart(event) {\r\n      let { clientX, clientY } = event.touches ? event.touches[0] : event\r\n      let t = this.$refs.wrapper.getBoundingClientRect()\r\n      let cx = t.left + t.width / 2\r\n      let cy = t.top + t.height / 2\r\n      let startAngle = (180 / Math.PI) * Math.atan2(clientY - cy, clientX - cx)\r\n      let rotation = this.transform.rotation\r\n      // 记录旋转的角度和组件的中心点\r\n      this._rotateOpt = { cx, cy, startAngle, rotation }\r\n    },\r\n    handleRotateMove(event) {\r\n      let { cx, cy, startAngle, rotation } = this._rotateOpt\r\n      let { clientX, clientY } = event.touches ? event.touches[0] : event\r\n      let x = clientX - cx\r\n      let y = clientY - cy\r\n      let angle = (180 / Math.PI) * Math.atan2(y, x)\r\n      // 旋转角度 = 鼠标移动时角度 - 鼠标按下时角度\r\n      // 旋转后的角度 = 组件按下时角度 + 旋转角度\r\n      let currentAngle = angle - startAngle\r\n      let r = rotation + currentAngle\r\n      r = r % 360\r\n      r = r < 0 ? r + 360 : r\r\n      this.transform.rotation = Math.floor(r)\r\n    },\r\n    getClassNames() {\r\n      const ddrClassNames = ['yoyoo-ddr']\r\n\r\n      if (this.active) ddrClassNames.push('active')\r\n      if (this.isDragging) ddrClassNames.push('ddr-dragging')\r\n      if (this.isResizing) ddrClassNames.push('ddr-resizing')\r\n      if (this.isRotating) ddrClassNames.push('ddr-rotating')\r\n      if (this.isReadyToDrag) ddrClassNames.push('ddr-ready-drag')\r\n      if (this.isReadyToResize) ddrClassNames.push('ddr-ready-resize')\r\n      if (this.isReadyToRotate) ddrClassNames.push('ddr-ready-rotate')\r\n      return ddrClassNames\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <div\r\n        ref=\"wrapper\"\r\n        style={this.style}\r\n        class={this.getClassNames()}\r\n        onTouchstart={this.handleMouseDown}\r\n        onMousedown={this.handleMouseDown}\r\n      >\r\n        {this.renderContent ? this.renderContent(this) : this.$slots.default}\r\n        {this.resizable && (\r\n          <div class=\"resize-handler-wrapper\">\r\n            {this.resizeHandler.map((item) => {\r\n              return (\r\n                <span\r\n                  data-resizetype={item}\r\n                  key={item}\r\n                  style={this.getNewHandler(item)}\r\n                  class={`resize-handler ${item}`}\r\n                />\r\n              )\r\n            })}\r\n          </div>\r\n        )}\r\n        {this.rotatable && <span style={this.rotateHandler} data-type=\"rotate\" class=\"rotate-handler\" />}\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.yoyoo-ddr {\r\n  position: absolute;\r\n  .resize-handler.tm {\r\n    left: 50%;\r\n  }\r\n  .resize-handler.r {\r\n    top: 50%;\r\n  }\r\n  .resize-handler.bm {\r\n    left: 50%;\r\n  }\r\n  .resize-handler.l {\r\n    top: 50%;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .resize-handler,\r\n  .rotate-handler {\r\n    display: none;\r\n    position: absolute;\r\n    border: 1px solid #607d8b;\r\n    background: #fff;\r\n    box-sizing: border-box;\r\n    border-radius: 50%;\r\n  }\r\n  .rotate-handler {\r\n    left: 50%;\r\n    cursor: crosshair;\r\n  }\r\n  &.active {\r\n    border: 1px dashed #607d8b;\r\n    > .resize-handler-wrapper > .resize-handler,\r\n    > .rotate-handler {\r\n      display: inline-block;\r\n    }\r\n  }\r\n  .br,\r\n  .tr,\r\n  .tl,\r\n  .bl {\r\n    background: #607d8b;\r\n  }\r\n}\r\n</style>\r\n","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=543c012a&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export const EVENT_COMPONENT_SELECT = 'component:select'\r\nexport const EVENT_COMPONENT_UNSELECT = 'component:unselect'\r\nexport const EVENT_COMPONENT_SELECTION = 'component:selection'\r\nexport const EVENT_COMPONENT_ADD = 'component:add'\r\nexport const EVENT_COMPONENT_TRANSFORM = 'component:transform'\r\nexport const EVENT_COMPONENT_DELETE = 'application:delete'\r\nexport const EVENT_COMPONENT_DUPLICATE = 'application:duplicate'\r\nexport const EVENT_CONTENT_CHANGETOIMAGE = 'content:toimage'\r\n\r\nexport const EVENT_APPLICATION_REDO = 'application:redo'\r\nexport const EVENT_APPLICATION_UNDO = 'application:undo'\r\nexport const EVENT_APPLICATION_CLEAR = 'application:clear'\r\nexport const EVENT_APPLICATION_SAVE = 'content:save'\r\nexport const EVENT_APPLICATION_ESC = 'content:esc'\r\nexport const EVENT_APPLICATION_EXPORT = 'content:export'\r\n","import EditorView from './editor-view'\r\nconst Img = {\r\n  props: {\r\n    params: {\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  render() {\r\n    return <img draggable=\"false\" class=\"match-parent\" src={this.params.url} />\r\n  },\r\n}\r\nconst Label = {\r\n  props: {\r\n    params: {\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <div draggable=\"false\" class=\"match-parent\">\r\n        {this.params.value}\r\n      </div>\r\n    )\r\n  },\r\n}\r\n\r\nconst Container = {\r\n  props: {\r\n    params: {\r\n      default: () => ({}),\r\n    },\r\n    meta: {\r\n      default: () => ({ children: [] }),\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <div style=\"border:1px solid #d4d4d4\" draggable=\"false\" class=\"match-parent\">\r\n        <EditorView parentId={this.meta.id} value={this.meta.children} />\r\n      </div>\r\n    )\r\n  },\r\n}\r\n\r\nconst Input = {\r\n  props: {\r\n    params: {\r\n      default: () => ({\r\n        value: '',\r\n        type: 'input',\r\n      }),\r\n    },\r\n  },\r\n  render() {\r\n    if (['checkbox', 'radio'].includes(this.params.inputType)) {\r\n      return (\r\n        <label class=\"match-parent input-has-label\">\r\n          <input type={this.params.inputType} value={this.params.value} />\r\n          {this.params.label}\r\n        </label>\r\n      )\r\n    }\r\n    return <input class=\"match-parent\" type={this.params.inputType} value={this.params.value} />\r\n  },\r\n}\r\n\r\nconst Select = {\r\n  props: {\r\n    params: {\r\n      default: () => ({\r\n        value: '',\r\n        options: [{ label: 'text', value: 'text' }],\r\n      }),\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <select class=\"match-parent\" type={this.params.type} value={this.params.url}>\r\n        {this.params.options.map((item) => (\r\n          <option value={item.value} key={item.value}>\r\n            {item.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    )\r\n  },\r\n}\r\n\r\nconst Rect = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\" />\r\n  },\r\n}\r\n\r\nconst Search = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Cart = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Message = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst User = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Shopping = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Home = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst NewProduct = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Attention = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Live = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Friend = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Commend = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Safety = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Hot = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nconst Game = {\r\n  render() {\r\n    return <div class=\"match-parent\" class=\"rect\"/>\r\n  },\r\n}\r\n\r\nexport default {\r\n  img: Img,\r\n  input: Input,\r\n  select: Select,\r\n  rect: Rect,\r\n  label: Label,\r\n  container: Container,\r\n  search: Search,\r\n  cart: Cart,\r\n  message: Message,\r\n  user: User,\r\n  shopping: Shopping,\r\n  home: Home,\r\n  attention: Attention,\r\n}\r\n","const ComponentRefMap = {}\r\n\r\nexport function saveComponentRef(id, ref) {\r\n  ComponentRefMap[id] = ref\r\n}\r\n\r\nexport function getComponentRef(id) {\r\n  return ComponentRefMap[id]\r\n}\r\n\r\nexport function getComponentRefsById(ids) {\r\n  return ids.map((item) => ComponentRefMap[item])\r\n}\r\n\r\nexport function destoryComponentRef(id) {\r\n  ComponentRefMap[id] = null\r\n}\r\n","<script>\r\nimport DragCell from '@/components/ddr/index.vue'\r\nimport { EVENT_COMPONENT_SELECT, EVENT_COMPONENT_TRANSFORM } from './event-enums'\r\nimport ComponentImpl from './component-impl'\r\nimport { saveComponentRef } from '@/examples/utils/ref'\r\nexport default {\r\n  props: {\r\n    item: Object,\r\n  },\r\n  methods: {\r\n    handler(e, transform) {\r\n      e.stopPropagation()\r\n      e.preventDefault()\r\n      this.eventbus.$emit(EVENT_COMPONENT_TRANSFORM, { type: this.handleType, transform })\r\n    },\r\n    beforeActive1() {\r\n      this.handleType = 'beforeactive'\r\n      this.eventbus.$emit(EVENT_COMPONENT_SELECT, this.item)\r\n      return true\r\n    },\r\n    handleDragStart(e, t) {\r\n      this.handleType = 'dragstart'\r\n      this.handler(e, t)\r\n    },\r\n    handleDrag(e, t) {\r\n      this.handleType = 'drag'\r\n      this.handler(e, t)\r\n    },\r\n    handleDragEnd(e, t) {\r\n      this.handleType = 'dragend'\r\n      this.handler(e, t)\r\n    },\r\n    handleResizeStart(e, t) {\r\n      this.handleType = 'resizestart'\r\n      this.handler(e, t)\r\n    },\r\n    handleResize(e, t) {\r\n      this.handleType = 'resize'\r\n      this.handler(e, t)\r\n    },\r\n    handleResizeEnd(e, t) {\r\n      this.handleType = 'resizeend'\r\n      this.handler(e, t)\r\n    },\r\n    handleRotateStart(e, t) {\r\n      this.handleType = 'rotatestart'\r\n      this.handler(e, t)\r\n    },\r\n    handleRotate(e, t) {\r\n      this.handleType = 'rotate'\r\n      this.handler(e, t)\r\n    },\r\n    handleRotateEnd(e, t) {\r\n      this.handleType = 'rotateend'\r\n      this.handler(e, t)\r\n    },\r\n    renderContent() {\r\n      let extra = this.item.extra\r\n      let DynamicComponent = ComponentImpl[extra.type]\r\n      return (\r\n        <div class=\"component-impl\">\r\n          <DynamicComponent meta={this.item} params={extra} />\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  mounted() {\r\n    // 保存组件的引用，方便直接对组件进行操作\r\n    saveComponentRef(this.item.id, this.$refs.cell)\r\n  },\r\n  render() {\r\n    let item = this.item\r\n    // eslint-disable-next-line no-console\r\n    return (\r\n      <DragCell\r\n        ref=\"cell\"\r\n        data-component={true}\r\n        grid={item.grid}\r\n        axis={item.axis}\r\n        key={item.id}\r\n        id={item.id}\r\n        draggable={item.draggable}\r\n        rotatable={item.rotatable}\r\n        resizable={item.resizable}\r\n        parent={item.parent}\r\n        fixedRatio={item.fixedRatio}\r\n        resizeHandler={item.resizeHandler}\r\n        minWidth={item.minWidth}\r\n        minHeight={item.minHeight}\r\n        active={item.active}\r\n        value={item.transform}\r\n        zoom={item.zoom}\r\n        beforeActive={this.beforeActive1}\r\n        onDragstart={this.handleDragStart}\r\n        onDrag={this.handleDrag}\r\n        onDragend={this.handleDragEnd}\r\n        onResizestart={this.handleResizeStart}\r\n        onResize={this.handleResize}\r\n        onResizeend={this.handleResizeEnd}\r\n        onRotatestart={this.handleRotateStart}\r\n        onRotate={this.handleRotate}\r\n        onRotateend={this.handleRotateEnd}\r\n        renderContent={this.renderContent}\r\n      />\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.component-impl {\r\n  position: absolute;\r\n  user-select: none;\r\n}\r\n</style>\r\n","var render, staticRenderFns\nimport script from \"./cell-wrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./cell-wrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cell-wrapper.vue?vue&type=style&index=0&id=249ac8f4&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"249ac8f4\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./plugin-drop.vue?vue&type=script&lang=js&\"\nexport * from \"./plugin-drop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./plugin-drop.vue?vue&type=style&index=0&id=0242a669&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0242a669\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./editor-view.vue?vue&type=script&lang=js&\"\nexport * from \"./editor-view.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editor-view.vue?vue&type=style&index=0&id=0b425cfc&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./footer.vue?vue&type=script&lang=js&\"\nexport * from \"./footer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./footer.vue?vue&type=style&index=0&id=1f82b6d3&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f82b6d3\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./header.vue?vue&type=script&lang=js&\"\nexport * from \"./header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=1ec99192&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./cell-wrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./cell-wrapper.vue?vue&type=script&lang=js&\"","<script>\r\nimport { EVENT_COMPONENT_ADD } from '../event-enums'\r\nexport default {\r\n  props: {\r\n    length: Number,\r\n    parentId: String,\r\n  },\r\n  methods: {\r\n    handleDropOver(e) {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n    },\r\n    getImageDataUrl(file) {\r\n      return new Promise((resolve) => {\r\n        const reader = new FileReader()\r\n        reader.onload = (e) => {\r\n          resolve(e.target.result)\r\n        }\r\n        reader.readAsDataURL(file)\r\n      })\r\n    },\r\n    async handleDrop(e) {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n      // file drop\r\n      let files = e.dataTransfer.files\r\n      let addComponents = []\r\n      let comstr = ''\r\n      // 该功能给所有编辑视图提供，包括嵌套的编辑视图。\r\n      // App.vue中添加到<EditorView></EditorView> 的插件仅提供给应用的顶层编辑视图\r\n      let rect = this.$parent.getWrapperElement().getBoundingClientRect()\r\n      let coords = {\r\n        x: e.clientX - rect.left,\r\n        y: e.clientY - rect.top,\r\n      }\r\n\r\n      if (files.length > 0) {\r\n        for (let index = 0; index < files.length; index++) {\r\n          const element = files[index]\r\n          const data = await this.getImageDataUrl(element)\r\n          addComponents.push({\r\n            type: 'img',\r\n            url: data,\r\n            ...coords,\r\n            width: 150,\r\n            height: 100,\r\n          })\r\n        }\r\n      } else if ((comstr = e.dataTransfer.getData('text/component'))) {\r\n        let com = JSON.parse(comstr)\r\n        com = { ...com, ...coords }\r\n\r\n        addComponents.push(com)\r\n      }\r\n      this.eventbus.$emit(EVENT_COMPONENT_ADD, { components: addComponents, parentId: this.parentId })\r\n    },\r\n  },\r\n  mounted() {\r\n    let element = this.$parent.getWrapperElement()\r\n    element.addEventListener('dragover', this.handleDropOver, false)\r\n    element.addEventListener('drop', this.handleDrop, false)\r\n  },\r\n  render() {\r\n    if (this.length > 0) return null\r\n\r\n    return (\r\n      <div class=\"guide\">\r\n        <div>拖拽组件或本地图片到此区域开始编辑</div>\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.guide {\r\n  left: 50%;\r\n  top: 50%;\r\n  position: absolute;\r\n  transform: translate(-50%, -50%);\r\n  color: #999;\r\n  line-height: 2;\r\n  font-size: 16px;\r\n  font-weight: 300;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./plugin-drop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./plugin-drop.vue?vue&type=script&lang=js&\"","<script>\r\nimport CellWrapperVue from './cell-wrapper.vue'\r\nimport PluginDropFileVue from './plugins/plugin-drop.vue'\r\n\r\nexport default {\r\n  props: {\r\n    value: Array,\r\n    parentId: String,\r\n    parent: Object,\r\n  },\r\n  methods: {\r\n    /**\r\n     * @type {HTMLElement}\r\n     */\r\n    getWrapperElement() {\r\n      // return document.getElementById(\"myEditor\").value;\r\n      return this.$refs.editor\r\n    },\r\n  },\r\n\r\n  render() {\r\n    return (\r\n      <div class={`vs-editor ${this.parentId ? 'nest-editor' : 'root-editor'}`}>\r\n        <div class=\"vs-editor-canvas\" id=\"myeditorW\" ref=\"editor\">\r\n          {this.value.map((item) => {\r\n            return <CellWrapperVue key={item.id} item={item} />\r\n          })}\r\n          {/***Inject Plugins**/}\r\n          {this.$slots.default}\r\n          <PluginDropFileVue parentId={this.parentId} length={this.value.length} />\r\n        </div>\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.vs-editor-canvas {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.root-editor > .vs-editor-canvas {\r\n  transform: scale(1);\r\n  transform-origin: top left;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./editor-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./editor-view.vue?vue&type=script&lang=js&\"","<script>\r\nexport default {\r\n  render() {\r\n    return <footer class=\"vs-footer\" />\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.vs-footer {\r\n  align-items: center;\r\n  display: flex;\r\n  padding: 0 15px;\r\n  background: #f8f8f8;\r\n  border-top: 1px solid #ececec;\r\n\r\n  a {\r\n    margin-right: 24px;\r\n    font-weight: 300;\r\n    font-size: 14px;\r\n    color: #888;\r\n    &:hover {\r\n      color: blue;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./footer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./footer.vue?vue&type=script&lang=js&\"","<script>\r\nimport {\r\n  EVENT_APPLICATION_CLEAR,\r\n  EVENT_APPLICATION_REDO,\r\n  EVENT_APPLICATION_UNDO,\r\n  EVENT_COMPONENT_DELETE,\r\n  EVENT_COMPONENT_DUPLICATE,\r\n  EVENT_CONTENT_CHANGETOIMAGE,\r\n  EVENT_APPLICATION_SAVE,\r\n  EVENT_APPLICATION_ESC,\r\n  EVENT_APPLICATION_EXPORT,\r\n} from './event-enums'\r\nexport default {\r\n  methods: {},\r\n  render() {\r\n    return (\r\n      <div class=\"vs-header\">\r\n        <h1>\r\n          <i className='bx bxs-book-reader'></i>\r\n          墨 书\r\n        </h1>\r\n        <div class=\"header-actions\">\r\n          <button\r\n            title=\"Return to the previous state\"\r\n            data-action=\"undo\"\r\n            onClick={() => this.eventbus.$emit(EVENT_APPLICATION_UNDO)}\r\n          >\r\n            撤销\r\n          </button>\r\n          <button\r\n            title=\"Return to the next state\"\r\n            data-action=\"redo\"\r\n            onClick={() => this.eventbus.$emit(EVENT_APPLICATION_REDO)}\r\n          >\r\n            重做\r\n          </button>\r\n          <button\r\n            title=\"Duplicate selected component\"\r\n            data-action=\"duplicate\"\r\n            onClick={() => this.eventbus.$emit(EVENT_COMPONENT_DUPLICATE)}\r\n          >\r\n            复制\r\n          </button>\r\n          <button\r\n            title=\"Delete selected component\"\r\n            data-action=\"delete\"\r\n            onClick={() => this.eventbus.$emit(EVENT_COMPONENT_DELETE)}\r\n          >\r\n            删除\r\n          </button>\r\n          <button\r\n            title=\"Clear all components in the editing area\"\r\n            data-action=\"clear\"\r\n            onClick={() => this.eventbus.$emit(EVENT_APPLICATION_CLEAR)}\r\n          >\r\n            清空\r\n          </button>\r\n          <button\r\n            title=\"Change this page to image and download\"\r\n            data-action=\"export\"\r\n            onClick={() => this.eventbus.$emit(EVENT_CONTENT_CHANGETOIMAGE)}\r\n          >\r\n            导出\r\n          </button>\r\n          <button\r\n              title=\"Save all components in the editing area\"\r\n              data-action=\"save\"\r\n              onClick={() => this.eventbus.$emit(EVENT_APPLICATION_SAVE)}\r\n          >\r\n            保存\r\n          </button>\r\n          <button\r\n              title=\"Exit this page\"\r\n              data-action=\"exit\"\r\n              onClick={() => this.eventbus.$emit(EVENT_APPLICATION_ESC)}\r\n          >\r\n            退出\r\n          </button>\r\n          <button\r\n              title=\"Export Data\"\r\n              data-action=\"export\"\r\n              onClick={() => this.eventbus.$emit(EVENT_APPLICATION_EXPORT)}\r\n          >\r\n            导出为json文件\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.vs-header {\r\n  height: 50px;\r\n  border-bottom: 1px solid #ececec;\r\n  display: flex;\r\n  align-items: center;\r\n  background: #f8f8f8;\r\n  h1 {\r\n    text-align: center;\r\n    font-size: 20px;\r\n    color: #333;\r\n    font-weight: 600;\r\n    width: 150px;\r\n  }\r\n  .header-actions {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  button {\r\n    padding: 5px 12px;\r\n    font-size: 16px;\r\n    color: #555;\r\n    background: #eee;\r\n    background-image: linear-gradient(to bottom, #fcfcfc 0, #eee 100%);\r\n    border: 1px solid #d5d5d5;\r\n    margin-right: 20px;\r\n    border-radius: 4px;\r\n    &:hover {\r\n      background: #ddd;\r\n      cursor: pointer;\r\n      transition: all 300ms;\r\n      background-image: linear-gradient(to bottom, #eee 0, #ddd 100%);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js&\"","/**\r\n *\r\n * 根据组件的id返回对应组件和组件在属性结构的路径\r\n * @param {Array} array\r\n * @param {String} id 组件的唯一ID\r\n * @returns {{path:Array;component:Object}} 返回对应的组件和组件在树形结构中的路径\r\n *\r\n */\r\nexport function findComponentPathById(array, id) {\r\n  const findComponent = (controls, isRoot) => {\r\n    for (let index = 0; index < controls.length; index++) {\r\n      const element = controls[index]\r\n      if (isRoot) {\r\n        componentPath = []\r\n      }\r\n      if (element.id === id) {\r\n        componentPath.push(index)\r\n        return element\r\n      } else if (element.type === 'container') {\r\n        componentPath.push(index)\r\n        let ele = findComponent(element.children, false)\r\n        if (ele) return ele\r\n      }\r\n    }\r\n  }\r\n  let componentPath = []\r\n  const component = findComponent(array, true)\r\n  return { path: componentPath, component }\r\n}\r\n\r\n/**\r\n *\r\n * 类似数组的find(fn)方法\r\n * @param {Array} array\r\n * @param {Function} fn 返回 true表示直接返回该元素\r\n * @returns {Object}\r\n */\r\nexport function findComponent(array, fn) {\r\n  const findComponent = (controls) => {\r\n    for (let index = 0; index < controls.length; index++) {\r\n      const element = controls[index]\r\n      if (fn(element)) {\r\n        return element\r\n      } else if (element.type === 'container') {\r\n        let ele = findComponent(element.children)\r\n        if (ele && fn(ele)) return ele\r\n      }\r\n    }\r\n  }\r\n  return findComponent(array)\r\n}\r\n\r\nexport function deepCopyComponent(item) {\r\n  item = JSON.parse(JSON.stringify(item))\r\n\r\n  const setNewId = (item) => {\r\n    item.id = generateId()\r\n    if (item.children) {\r\n      item.children.forEach(setNewId)\r\n    }\r\n  }\r\n\r\n  setNewId(item)\r\n  return item\r\n}\r\n\r\n/**\r\n *\r\n * 基于不可变数据结构，只修改指定路径下的对象。如果回调函数返回false表示删除该路径对应的对象\r\n *\r\n * @param {Array} array\r\n * @param {Array} path\r\n * @param {(item:Object)=> Object|Boolean} callback\r\n * @returns {Array} 返回新的数组\r\n *\r\n */\r\nexport function updateTreeIn(array, path, callback) {\r\n  path = path.slice()\r\n  let resultArray = array.slice()\r\n  let index = path.shift()\r\n  let firstIndex = index\r\n  let newData = { ...resultArray[index] }\r\n  let object = newData\r\n  while (path.length > 0) {\r\n    index = path.shift()\r\n    if (newData.children && newData.children.length > 0) {\r\n      newData.children = newData.children.slice()\r\n      if (path.length === 0) {\r\n        let _obj = callback({ ...newData.children[index] })\r\n        newData.children[index] = _obj\r\n        if (!_obj) newData.children.splice(index, 1)\r\n        resultArray[firstIndex] = object\r\n        return resultArray\r\n      } else {\r\n        let _obj = { ...newData.children[index] }\r\n        newData.children[index] = _obj\r\n        newData = _obj\r\n      }\r\n    }\r\n  }\r\n\r\n  let _obj = callback(newData)\r\n  resultArray[index] = _obj\r\n  if (!_obj) resultArray = resultArray.filter(Boolean)\r\n  return resultArray\r\n}\r\n\r\n/**\r\n *\r\n * @param {Array} array\r\n * @param {Array} ids\r\n * @param {(object:Object)=>Object|Boolean} callback\r\n */\r\nexport function batchUpdateIn(array, ids, callback) {\r\n  return array\r\n    .map((item) => {\r\n      if (ids.includes(item.id)) {\r\n        return callback({ ...item })\r\n      }\r\n      return item\r\n    })\r\n    .filter(Boolean)\r\n}\r\n\r\n/**\r\n *\r\n * @returns {string}\r\n */\r\nexport function generateId() {\r\n  return (\r\n    Date.now() +\r\n    Math.random()\r\n      .toString()\r\n      .slice(2)\r\n  )\r\n}\r\n","<script>\r\nexport default {\r\n  props: {\r\n    value: Boolean,\r\n  },\r\n\r\n  methods: {\r\n    handleChange(v) {\r\n      this.$emit('input', v)\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <input\r\n        class=\"input-value\"\r\n        checked={this.value}\r\n        onInput={(e) => this.handleChange(e.target.checked)}\r\n        type=\"checkbox\"\r\n      />\r\n    )\r\n  },\r\n}\r\n</script>\r\n","var render, staticRenderFns\nimport script from \"./prop-check-input.vue?vue&type=script&lang=js&\"\nexport * from \"./prop-check-input.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./prop-grid-input.vue?vue&type=script&lang=js&\"\nexport * from \"./prop-grid-input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./prop-grid-input.vue?vue&type=style&index=0&id=0d673252&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d673252\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./prop-number-input.vue?vue&type=script&lang=js&\"\nexport * from \"./prop-number-input.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./prop-radio-input.vue?vue&type=script&lang=js&\"\nexport * from \"./prop-radio-input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./prop-radio-input.vue?vue&type=style&index=0&id=6cfdf2d9&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cfdf2d9\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-check-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-check-input.vue?vue&type=script&lang=js&\"","<script>\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default: () => [1, 1],\r\n    },\r\n  },\r\n  methods: {\r\n    handleChange(v, index) {\r\n      let value = this.value.slice()\r\n      value[index] = Math.max(1, Math.floor(v))\r\n      this.$emit('input', value)\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <div class=\"grid-input\">\r\n        <input value={this.value[0]} onInput={(e) => this.handleChange(e.target.value, 0)} type=\"number\" />\r\n        <input value={this.value[1]} onInput={(e) => this.handleChange(e.target.value, 1)} type=\"number\" />\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.grid-input {\r\n  display: inline-flex;\r\n  flex: 1;\r\n  input {\r\n    flex: 1;\r\n    width: 0;\r\n    height: 24px;\r\n    border-radius: 0;\r\n    border: 1px solid #d3d3d3;\r\n    padding-left: 8px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-grid-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-grid-input.vue?vue&type=script&lang=js&\"","<script>\r\nexport default {\r\n  props: {\r\n    value: Number,\r\n  },\r\n\r\n  methods: {\r\n    handleChange(v) {\r\n      this.$emit('input', +v)\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <input class=\"input-value\" value={this.value} onInput={(e) => this.handleChange(e.target.value)} type=\"number\" />\r\n    )\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-number-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-number-input.vue?vue&type=script&lang=js&\"","<script>\r\nexport default {\r\n  props: {\r\n    value: String,\r\n    options: {\r\n      type: Array,\r\n      default: () => [], //{label:string;value:string}\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      id:\r\n        'radio-' +\r\n        Math.random()\r\n          .toString()\r\n          .slice(2, 10),\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(v) {\r\n      this.$emit('input', v)\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <div class=\"radio-input\">\r\n        {this.options.map((item) => {\r\n          return (\r\n            <label for={this.id + item.value}>\r\n              <input\r\n                name={this.id}\r\n                checked={this.value === item.value}\r\n                onInput={(e) => this.handleChange(e.target.value)}\r\n                id={this.id + item.value}\r\n                type=\"radio\"\r\n                value={item.value}\r\n              />\r\n              {item.label}\r\n            </label>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.radio-input {\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: space-between;\r\n  input {\r\n    vertical-align: middle;\r\n    margin-right: 4px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-radio-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-radio-input.vue?vue&type=script&lang=js&\"","<script>\r\nimport PropCheckInputVue from './prop-check-input.vue'\r\nimport PropGridInputVue from './prop-grid-input.vue'\r\nimport PropNumberInputVue from './prop-number-input.vue'\r\nimport PropRadioInputVue from './prop-radio-input.vue'\r\nconst PropInputImpl = {\r\n  grid: PropGridInputVue,\r\n  radio: PropRadioInputVue,\r\n  number: PropNumberInputVue,\r\n  checkbox: PropCheckInputVue,\r\n}\r\nexport default {\r\n  props: ['controlled'],\r\n  data() {\r\n    return {\r\n      inputs: [\r\n        { type: 'number', name: 'x', cn_name: 'x'  },\r\n        { type: 'number', name: 'y', cn_name: 'y'  },\r\n        { type: 'number', name: 'width', cn_name: '宽度' },\r\n        { type: 'number', name: 'height', cn_name: '高度' },\r\n        { type: 'number', name: 'rotation', cn_name: '旋转' },\r\n        { type: 'number', name: 'minWidth', cn_name: '最小宽度' },\r\n        { type: 'number', name: 'minHeight', cn_name: '最小高度' },\r\n        { type: 'grid', name: 'grid', cn_name: '移动尺寸' },\r\n        {\r\n          type: 'radio',\r\n          name: 'axis',\r\n          cn_name: '移动方式',\r\n          options: [{ label: 'y', value: 'y' }, { label: 'x', value: 'x' }, { label: 'xy', value: 'xy' }],\r\n        },\r\n        { type: 'checkbox', name: 'fixedRatio', cn_name: 'fixedRation' },\r\n        { type: 'checkbox', name: 'draggable', cn_name: '是否可拖动' },\r\n        { type: 'checkbox', name: 'resizable', cn_name: '是否可缩放' },\r\n        { type: 'checkbox', name: 'rotatable', cn_name: '是否可旋转' },\r\n        { type: 'checkbox', name: 'active', cn_name: '是否选中' },\r\n        { type: 'checkbox', name: 'parent', cn_name: '是否为父容器' },\r\n      ],\r\n      extraInputs: [{ type: 'text', name: 'value' }, { type: 'text', name: 'label' }],\r\n    }\r\n  },\r\n  methods: {\r\n    customChange(e, item) {\r\n      this.$emit('change', {\r\n        ...item,\r\n        value: e,\r\n      })\r\n    },\r\n    extraChange(e, item) {\r\n      this.$emit('change', {\r\n        ...item,\r\n        value: e.target.value,\r\n        checked: e.target.checked,\r\n        extra: true,\r\n      })\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <div class=\"vs-inspector\">\r\n        <div style=\"margin:20px auto\">属性设置</div>\r\n        {this.inputs.map((item) => {\r\n          let DyInput = PropInputImpl[item.type]\r\n          return (\r\n            <div class=\"input-item\" key={item.name}>\r\n              <label class=\"input-label\">{item.cn_name}</label>\r\n              <DyInput\r\n                options={item.options}\r\n                value={this.controlled[item.name]}\r\n                onInput={(e) => this.customChange(e, item)}\r\n              />\r\n            </div>\r\n          )\r\n        })}\r\n\r\n        <div>附加属性</div>\r\n        {this.controlled &&\r\n          this.controlled.extra &&\r\n          this.extraInputs\r\n            .filter((item) => item.name in this.controlled.extra)\r\n            .map((item) => {\r\n              return (\r\n                <div class=\"input-item\" key={item.name}>\r\n                  <label class=\"input-label\">{item.name}</label>\r\n                  <input\r\n                    onInput={(e) => this.extraChange(e, item)}\r\n                    class=\"input-value\"\r\n                    type={item.type}\r\n                    checked={this.controlled.extra[item.name]}\r\n                    value={this.controlled.extra[item.name]}\r\n                  />\r\n                </div>\r\n              )\r\n            })}\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.vs-inspector {\r\n  width: 240px;\r\n  border-left: 1px solid #ececec;\r\n  background: #f8f8f8;\r\n  padding: 15px;\r\n  overflow-y: auto;\r\n  right: 0;\r\n  .input-item {\r\n    margin-bottom: 12px;\r\n    display: flex;\r\n  }\r\n  .input-label {\r\n    display: inline-block;\r\n    width: 100px;\r\n    color: #555;\r\n  }\r\n  .input-value:not([type='checkbox']) {\r\n    height: 24px;\r\n    padding: 0;\r\n    border-radius: 0;\r\n    border: 1px solid #d3d3d3;\r\n    padding-left: 10px;\r\n    flex: 1;\r\n    width: 0;\r\n  }\r\n}\r\n</style>\r\n","var render, staticRenderFns\nimport script from \"./prop-inspector.vue?vue&type=script&lang=js&\"\nexport * from \"./prop-inspector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./prop-inspector.vue?vue&type=style&index=0&id=56f0b6aa&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-inspector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./prop-inspector.vue?vue&type=script&lang=js&\"","/**\r\n *\r\n * @description 返回当前dom是否为可拖拽组件\r\n * @param {HTMLElement} domNode\r\n * @returns {Boolean} 是否是组件\r\n */\r\nexport function isComponent(domNode) {\r\n  while (domNode) {\r\n    if (domNode.dataset.component === 'true') {\r\n      return true\r\n    }\r\n    domNode = domNode.parentElement\r\n  }\r\n  return false\r\n}\r\n\r\n/**\r\n * 简单封装鼠标交互的一些事件\r\n */\r\nexport class Interaction {\r\n  /**\r\n   * 需要添加事件的dom节点\r\n   * @type {HTMLElement}\r\n   */\r\n  element = null\r\n  // 鼠标移动增量\r\n  deltaX = 0\r\n  deltaY = 0\r\n  // 鼠标上次位置\r\n  lastPointerX = 0\r\n  lastPointerY = 0\r\n\r\n  // 鼠标按下点的位置\r\n  downPointerX = 0\r\n  downPointerY = 0\r\n\r\n  /**\r\n   * @type {DOMRect}\r\n   */\r\n  elementRect = null\r\n\r\n  // 鼠标移动点到按下点的位置\r\n  x = 0\r\n  y = 0\r\n\r\n  clientX = 0\r\n  clientY = 0\r\n  downClientX = 0\r\n  downClientY = 0\r\n\r\n  /**\r\n   * @private\r\n   * @type {(interaction:Interaction)=> void 0}\r\n   */\r\n  moveHanlder = null\r\n  /**\r\n   * @private\r\n   * @type {(interaction:Interaction)=> void 0}\r\n   */\r\n  startHandler = null\r\n  /**\r\n   * @private\r\n   * @type {(interaction:Interaction)=> void 0}\r\n   */\r\n  endHanler = null\r\n\r\n  /**\r\n   *\r\n   * @param {HTMLElement} element\r\n   */\r\n  constructor(element) {\r\n    this.element = element\r\n    element.addEventListener('mousedown', this.handleMouseDown, false)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {HTMLElement} element\r\n   * @param {{\r\n   *    onStart:(interaction:Interaction)=> void;\r\n   *    onMove:(interaction:Interaction)=> void;\r\n   *    onEnd:(interaction:Interaction)=> void;\r\n   *  }} handlers 处理回调函数\r\n   * @returns {Interaction}\r\n   */\r\n  static init(element, handlers = {}) {\r\n    let inter = new Interaction(element)\r\n    inter.moveHanlder = handlers.onMove\r\n    inter.startHandler = handlers.onStart\r\n    inter.endHanler = handlers.onEnd\r\n    return inter\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @private\r\n   * @param {PointerEvent} e\r\n   */\r\n  handleMouseDown = (e) => {\r\n    if (e.button !== 0) return\r\n    e.stopPropagation()\r\n    e.preventDefault()\r\n    document.addEventListener('mousemove', this.handleMouseMove, false)\r\n    document.addEventListener('mouseup', this.handleMouseUp, false)\r\n    const { clientX, clientY } = e\r\n    this.elementRect = this.element.getBoundingClientRect()\r\n    this.lastPointerX = clientX\r\n    this.lastPointerY = clientY\r\n    this.downPointerX = clientX\r\n    this.downPointerY = clientY\r\n    this.downClientX = clientX - this.elementRect.left\r\n    this.downClientY = clientY - this.elementRect.top\r\n    this.clientX = clientX - this.elementRect.left\r\n    this.clientY = clientY - this.elementRect.top\r\n    if (this.startHandler) {\r\n      this.startHandler(this)\r\n    }\r\n  }\r\n  /**\r\n   *\r\n   * @private\r\n   * @param {PointerEvent} e\r\n   */\r\n  handleMouseMove = (e) => {\r\n    e.stopPropagation()\r\n    e.preventDefault()\r\n    this.deltaX = e.clientX - this.lastPointerX\r\n    this.deltaY = e.clientY - this.lastPointerY\r\n    this.lastPointerX = e.clientX\r\n    this.lastPointerY = e.clientY\r\n\r\n    this.x = e.clientX - this.downPointerX\r\n    this.y = e.clientY - this.downPointerY\r\n\r\n    this.clientX = e.clientX - this.elementRect.left\r\n    this.clientY = e.clientY - this.elementRect.top\r\n\r\n    if (this.moveHanlder) {\r\n      this.moveHanlder(this)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  handleMouseUp = () => {\r\n    document.removeEventListener('mousemove', this.handleMouseMove, false)\r\n    document.removeEventListener('mouseup', this.handleMouseUp, false)\r\n    if (this.endHanler) {\r\n      this.endHanler(this)\r\n    }\r\n  }\r\n  destory() {\r\n    this.element.removeEventListener('mousedown', this.handleMouseDown, false)\r\n    this.element = null\r\n    this.moveHanlder = null\r\n    this.startHandler = null\r\n    this.endHanler = null\r\n  }\r\n}\r\n\r\n/**\r\n * @description dom的简单操作封装\r\n */\r\nexport class Dom {\r\n  /**\r\n   * @type {HTMLElement}\r\n   */\r\n  element = null\r\n\r\n  /**\r\n   *\r\n   * @param {HTMLElement} element\r\n   * @returns  {Dom}\r\n   */\r\n  static of(element) {\r\n    let dom = new Dom()\r\n    dom.element = element\r\n    return dom\r\n  }\r\n\r\n  /**\r\n   * @param {Number} width\r\n   * @param {Number} height\r\n   * @returns  {Dom}\r\n   */\r\n  size(width, height) {\r\n    this.element.style.width = width + 'px'\r\n    this.element.style.height = height + 'px'\r\n    return this\r\n  }\r\n  /**\r\n   *\r\n   * @param {Number} x\r\n   * @param {Number} y\r\n   * @returns {Dom}\r\n   */\r\n  position(x, y) {\r\n    this.element.style.position = 'absolute'\r\n    this.element.style.left = x + 'px'\r\n    this.element.style.top = y + 'px'\r\n    return this\r\n  }\r\n\r\n  /**\r\n   * @returns {Dom}\r\n   */\r\n  show() {\r\n    this.element.style.display = 'block'\r\n    return this\r\n  }\r\n  /**\r\n   *\r\n   * @returns {Dom}\r\n   */\r\n  hide() {\r\n    this.element.style.display = 'none'\r\n    return this\r\n  }\r\n}\r\n","import { deepCopyComponent } from '@/examples/utils'\r\nimport { EVENT_COMPONENT_DELETE, EVENT_COMPONENT_DUPLICATE } from '../event-enums'\r\n\r\nexport function registerSelectionActions(selection) {\r\n  selection.eventbus.$on(EVENT_COMPONENT_DELETE, () => {\r\n    if (selection.componentRefs.length > 1) {\r\n      selection.application.batchDeleteControls(selection.componentRefs.map((item) => item.id))\r\n      selection.selectionActive = false\r\n    }\r\n  })\r\n\r\n  selection.eventbus.$on(EVENT_COMPONENT_DUPLICATE, () => {\r\n    if (selection.componentRefs.length > 1) {\r\n      const components = []\r\n      const transformList = []\r\n      const newComponent = (item) => {\r\n        let copyOfSelected = deepCopyComponent(item)\r\n        let t = copyOfSelected.transform\r\n        copyOfSelected.transform = {\r\n          x: t.x,\r\n          y: t.y + selection.selectionTransform.height,\r\n          width: t.width,\r\n          height: t.height,\r\n          rotation: t.rotation,\r\n        }\r\n        ids.push(copyOfSelected.id)\r\n\r\n        transformList.push({\r\n          id: copyOfSelected.id,\r\n          ...copyOfSelected.transform,\r\n        })\r\n        return copyOfSelected\r\n      }\r\n      let ids = []\r\n      selection.application.controls.forEach((item) => {\r\n        let component = selection.componentRefs.find((ref) => item.id == ref.id)\r\n        if (component) {\r\n          components.push(newComponent(item))\r\n        }\r\n      })\r\n      selection.application.controls = selection.application.controls.concat(components)\r\n      selection.selectedComponents = transformList\r\n      selection.selectionTransform = {\r\n        ...selection.selectionTransform,\r\n        y: selection.selectionTransform.y + selection.selectionTransform.height,\r\n      }\r\n      // 渲染后重新获取ref\r\n      selection.$nextTick(() => {\r\n        selection.getSelectedComponentRefs(ids, selection.selectionTransform)\r\n      })\r\n      return\r\n    }\r\n  })\r\n\r\n  document.addEventListener('mousedown', (e) => {\r\n    if (e.target.dataset.action === 'duplicate') {\r\n      return\r\n    }\r\n    selection.selectionActive = false\r\n  })\r\n}\r\n","<script>\r\nimport { Interaction } from '@/examples/utils/dom'\r\nimport DDrComponent from '@/components/ddr'\r\nimport { EVENT_COMPONENT_UNSELECT } from '../event-enums'\r\nimport { getComponentRef, getComponentRefsById } from '@/examples/utils/ref'\r\nimport { getBoundingRect } from '@/components/ddr/helper'\r\nimport { registerSelectionActions } from './plugin-selection-actions'\r\n/**\r\n * @description\r\n *  1、为编辑器增加批量选择功能\r\n *  2、可批量拖拽改变所选组件位置\r\n *  3、可批量缩放改变所选组件大小\r\n *  4、点击页面任何区域可使已选中的组件取消选中\r\n *  5、可拦截删除功能，对已选中的组件进行批量删除\r\n *  6、可拦截副本功能，对已选中的组件进行批量复制\r\n */\r\nexport default {\r\n  props: {\r\n    application: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      grid: [1, 1],\r\n      selectedComponents: [],\r\n      selectionTransform: { x: 0, y: 0, width: 0, height: 0, rotation: 0 },\r\n      selectionActive: false,\r\n      selectionHandler: ['tl', 'tr', 'br', 'bl'],\r\n      selectionArea: { x: 0, y: 0, width: 0, height: 0 },\r\n    }\r\n  },\r\n  watch: {\r\n    selectionActive(value) {\r\n      if (!value) {\r\n        this.selectedComponents = []\r\n        this.selectionTransform = { x: 0, y: 0, width: 0, rotation: 0 }\r\n        this.componentRefs = []\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getContains() {\r\n      const rect = this.selectionArea\r\n      const controls = this.application.controls\r\n      // 被包含的元素才会被选中\r\n      const crossComponents = controls.filter((item) => {\r\n        let transform = getBoundingRect(item.transform)\r\n        let isXContain = transform.left > rect.x && transform.right < rect.x + rect.width\r\n        let isYContain = transform.top > rect.y && transform.bottom < rect.y + rect.height\r\n        return isXContain && isYContain\r\n      })\r\n      this.selectedComponents = crossComponents.map((item) => ({\r\n        id: item.id,\r\n        ...item.transform,\r\n      }))\r\n    },\r\n    handleSelectionStart() {\r\n      this.eventbus.$emit(EVENT_COMPONENT_UNSELECT)\r\n      this.selectionActive = false\r\n    },\r\n    handleSelectionMove({ x, y, downClientX, downClientY }) {\r\n      if (x < 0) {\r\n        x = Math.abs(x)\r\n        downClientX -= x\r\n      }\r\n      if (y < 0) {\r\n        y = Math.abs(y)\r\n        downClientY -= y\r\n      }\r\n      this.selectionArea = { x: downClientX, y: downClientY, width: x, height: y }\r\n      this.getContains()\r\n    },\r\n    handleSelectionEnd() {\r\n      if (this.selectedComponents.length == 1) {\r\n        this.application.handleSelect(\r\n          this.application.controls.find((item) => item.id === this.selectedComponents[0].id)\r\n        )\r\n        this.selectedComponents = []\r\n      } else if (this.selectedComponents.length > 1) {\r\n        this.application.handleUnselect()\r\n        this.createSelectionTransform()\r\n      }\r\n      this.selectionArea = { x: 0, y: 0, width: 0, height: 0 }\r\n    },\r\n    createSelectionTransform() {\r\n      let x = []\r\n      let y = []\r\n      let x1 = []\r\n      let y1 = []\r\n      let ids = []\r\n      this.selectedComponents.forEach((item) => {\r\n        ids.push(item.id)\r\n        item = getBoundingRect(item)\r\n        x.push(item.left)\r\n        y.push(item.top)\r\n        x1.push(item.right)\r\n        y1.push(item.bottom)\r\n      })\r\n      let left = Math.min(...x)\r\n      let top = Math.min(...y)\r\n      let right = Math.max(...x1)\r\n      let bottom = Math.max(...y1)\r\n      this.selectionActive = true\r\n      this.selectionTransform = {\r\n        x: left,\r\n        y: top,\r\n        width: right - left,\r\n        height: bottom - top,\r\n        rotation: 0,\r\n      }\r\n      this.getSelectedComponentRefs(ids, this.selectionTransform)\r\n    },\r\n    getSelectedComponentRefs(ids, { x, y, width, height }) {\r\n      this.componentRefs = getComponentRefsById(ids).map((item) => {\r\n        // 记录组件在选区的位置和宽度百分比\r\n        item._xPercent = (item.transform.x - x) / width\r\n        item._yPercent = (item.transform.y - y) / height\r\n        item._wPercent = item.transform.width / width\r\n        item._hPercent = item.transform.height / height\r\n        return item\r\n      })\r\n    },\r\n    getSelectedComponentTransform() {\r\n      this.selectedComponents = this.selectedComponents.map((item) => {\r\n        let t = getComponentRef(item.id).transform\r\n        item.x = t.x\r\n        item.y = t.y\r\n        item.width = t.width\r\n        item.height = t.height\r\n        return item\r\n      })\r\n    },\r\n    handleSelectionDrag(e) {\r\n      e.stopPropagation()\r\n      let area = this.$refs.ddr.transform\r\n      this.componentRefs.forEach((item) => {\r\n        item.transform.x = Math.round(area.x + area.width * item._xPercent)\r\n        item.transform.y = Math.round(area.y + area.height * item._yPercent)\r\n      })\r\n      this.getSelectedComponentTransform()\r\n    },\r\n    stopPropagation(e) {\r\n      e.stopPropagation()\r\n    },\r\n    handleSelectionDragEnd(e, transform) {\r\n      e.stopPropagation()\r\n      let changes = {}\r\n      this.componentRefs.forEach((item) => {\r\n        changes[item.id] = {\r\n          key: 'transform',\r\n          value: { ...item.transform },\r\n        }\r\n      })\r\n      this.selectionTransform = transform\r\n      this.application.batchUpdateControlValue(changes)\r\n    },\r\n\r\n    handleSelectionResize(e) {\r\n      e.stopPropagation()\r\n      let area = this.$refs.ddr.transform\r\n      this.componentRefs.forEach((item) => {\r\n        item.transform.x = Math.round(area.x + area.width * item._xPercent)\r\n        item.transform.y = Math.round(area.y + area.height * item._yPercent)\r\n        item.transform.width = Math.round(area.width * item._wPercent)\r\n        item.transform.height = Math.round(area.height * item._hPercent)\r\n      })\r\n      this.getSelectedComponentTransform()\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.componentRefs = []\r\n    let element = this.application.getEditorView().getWrapperElement()\r\n\r\n    Interaction.init(element, {\r\n      onStart: () => {\r\n        this.handleSelectionStart()\r\n      },\r\n      onMove: (interaction) => {\r\n        this.handleSelectionMove(interaction)\r\n      },\r\n      onEnd: () => {\r\n        this.handleSelectionEnd()\r\n      },\r\n    })\r\n    // register\r\n    registerSelectionActions(this)\r\n  },\r\n  render() {\r\n    const { x, y, width, height } = this.selectionArea\r\n    return (\r\n      <div data-plugin=\"selection\" class=\"plugin-selection\">\r\n        <div\r\n          style={`\r\n            display:${width > 0 ? 'block' : 'none'};\r\n            width:${width}px;\r\n            height:${height}px;\r\n            left:${x}px;\r\n            top:${y}px`}\r\n          class=\"selection-box\"\r\n        />\r\n        {this.selectedComponents.map((item) => {\r\n          return (\r\n            <div\r\n              class=\"selection-selected-component-bordered\"\r\n              style={`\r\n                transform:rotate(${item.rotation}deg);\r\n                left:${item.x}px;\r\n                top:${item.y}px;\r\n                width:${item.width}px;\r\n                height:${item.height}px`}\r\n              key={item.id}\r\n            />\r\n          )\r\n        })}\r\n\r\n        <DDrComponent\r\n          ref=\"ddr\"\r\n          data-component=\"true\"\r\n          rotatable={false}\r\n          grid={this.grid}\r\n          resizeHandler={this.selectionHandler}\r\n          active={this.selectionActive}\r\n          onDragstart={this.stopPropagation}\r\n          onDrag={this.handleSelectionDrag}\r\n          onDragend={this.handleSelectionDragEnd}\r\n          onResizestart={this.stopPropagation}\r\n          onResize={this.handleSelectionResize}\r\n          onResizeend={this.handleSelectionDragEnd}\r\n          value={this.selectionTransform}\r\n        />\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.selection-box {\r\n  border: 1px dashed blue;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  display: none;\r\n  position: absolute;\r\n}\r\n.selection-selected-component-bordered {\r\n  border: 1px solid blue;\r\n  position: absolute;\r\n}\r\n</style>\r\n","var render, staticRenderFns\nimport script from \"./plugin-selection.vue?vue&type=script&lang=js&\"\nexport * from \"./plugin-selection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./plugin-selection.vue?vue&type=style&index=0&id=fcb6ea56&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcb6ea56\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./plugin-grid.vue?vue&type=script&lang=js&\"\nexport * from \"./plugin-grid.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./plugin-selection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./plugin-selection.vue?vue&type=script&lang=js&\"","<script>\r\nexport default {\r\n  render() {\r\n    return (\r\n      <svg data-plugin=\"grid\" ref={'grid'} width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <defs>\r\n          <pattern id=\"gridSmall\" width=\"10\" height=\"10\" patternUnits=\"userSpaceOnUse\">\r\n            <path d=\"M 10 0 L 0 0 0 10\" fill=\"none\" stroke=\"rgba(207, 207, 207, 0.2)\" strokeWidth={1} />\r\n          </pattern>\r\n          <pattern id=\"grid\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\r\n            <rect width=\"100\" height=\"100\" fill=\"url(#gridSmall)\" />\r\n            <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"rgba(186, 186, 186, 0.1)\" strokeWidth={1} />\r\n          </pattern>\r\n        </defs>\r\n        <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\" />\r\n      </svg>\r\n    )\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./plugin-grid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./plugin-grid.vue?vue&type=script&lang=js&\"","import keyboardJS from 'keyboardjs'\r\nimport {\r\n  EVENT_APPLICATION_CLEAR,\r\n  EVENT_APPLICATION_REDO,\r\n  EVENT_APPLICATION_UNDO,\r\n  EVENT_COMPONENT_DELETE,\r\n  EVENT_COMPONENT_DUPLICATE,\r\n} from '../event-enums'\r\nconst keyboardActions = [\r\n  { action: EVENT_COMPONENT_DELETE, keys: 'backspace' },\r\n  { action: EVENT_APPLICATION_UNDO, keys: 'command + z' },\r\n  { action: EVENT_APPLICATION_REDO, keys: 'command + shift > z' },\r\n  { action: EVENT_APPLICATION_CLEAR, keys: 'command + k' },\r\n  { action: EVENT_COMPONENT_DUPLICATE, keys: 'command + d' },\r\n]\r\n\r\nexport const registerKeyboardAction = (application) => {\r\n  keyboardActions.forEach((item) => {\r\n    keyboardJS.bind(item.keys, (e) => {\r\n      // 忽略输入框\r\n      if (!['input', 'textarea'].includes(e.target.tagName.toLowerCase())) {\r\n        e.preventDefault()\r\n        application.eventbus.$emit(item.action)\r\n      }\r\n    })\r\n  })\r\n}\r\n","<script>\r\nimport ComponentsVue from '@/examples/vseditor/components.vue'\r\nimport EditorViewVue from '@/examples/vseditor/editor-view.vue'\r\nimport {\r\n  EVENT_APPLICATION_CLEAR,\r\n  EVENT_APPLICATION_REDO,\r\n  EVENT_APPLICATION_UNDO,\r\n  EVENT_COMPONENT_ADD,\r\n  EVENT_COMPONENT_DELETE,\r\n  EVENT_COMPONENT_DUPLICATE,\r\n  EVENT_COMPONENT_SELECT,\r\n  EVENT_COMPONENT_TRANSFORM,\r\n  EVENT_COMPONENT_UNSELECT,\r\n  EVENT_CONTENT_CHANGETOIMAGE,\r\n  EVENT_APPLICATION_SAVE,\r\n  EVENT_APPLICATION_ESC,\r\n  EVENT_APPLICATION_EXPORT,\r\n} from '@/examples/vseditor/event-enums'\r\nimport FooterVue from '@/examples/vseditor/footer.vue'\r\nimport HeaderVue from '@/examples/vseditor/header.vue'\r\nimport {\r\n  batchUpdateIn,\r\n  deepCopyComponent,\r\n  findComponent,\r\n  findComponentPathById,\r\n  generateId,\r\n  updateTreeIn,\r\n} from '@/examples/utils'\r\nimport PropInspectorVue from '@/examples/vseditor/prop-inspector.vue'\r\nimport PluginSelectionVue from '@/examples/vseditor/plugins/plugin-selection.vue'\r\nimport PluginGridVue from '@/examples/vseditor/plugins/plugin-grid.vue'\r\nimport { registerKeyboardAction } from '@/examples/vseditor/plugins/keyboard'\r\nimport html2canvas from \"html2canvas\";\r\nimport {saveAs} from 'file-saver'\r\nimport $ from 'jquery'\r\nimport qs from \"qs\";\r\nlet historys = [[]]\r\nlet historyPointer = 0\r\nexport default {\r\n  name: 'app',\r\n  data() {\r\n    return {\r\n      controls: [],\r\n      currentId: '',\r\n      currentPath: [],\r\n      controlled: {},\r\n      width: 800,\r\n      height: 500,\r\n      /*url: 'http://43.138.26.134/api/media/documents/prototype_model_1.json'*/\r\n    }\r\n  },\r\n  methods: {\r\n    setSize(width, height) {\r\n      /*\r\n      var container = document.getElementsByClassName('container')[0];\r\n      container.style.height = width + 'px';\r\n      container.style.width = height + 'px';\r\n\r\n       */\r\n      $(\".container\").css({width: width + 'px',height: height + 'px'})\r\n      console.log(this.controls);\r\n    },\r\n    getComponents(components, parentId) {\r\n      return components.map((item) => ({\r\n        type: item.type,\r\n        children: item.type === 'container' ? [] : void 0,\r\n        id: generateId(),\r\n        transform: {\r\n          x: item.x - (item.x % 10),\r\n          y: item.y - (item.y % 10),\r\n          width: item.width,\r\n          height: item.height,\r\n          rotation: 0,\r\n        },\r\n        minHeight: 10,\r\n        minWidth: 10,\r\n        rotatable: true,\r\n        resizable: true,\r\n        draggable: true,\r\n        fixedRatio: false,\r\n        zoom: 1,\r\n        active: false,\r\n        parent: true,\r\n        parentId,\r\n        resizeHandler: ['tl', 'tm', 'tr', 'r', 'br', 'bm', 'l', 'bl'],\r\n        extra: item,\r\n        grid: [1, 1],\r\n        axis: 'xy',\r\n      }))\r\n    },\r\n    /**\r\n     * @description 批量添加组件到编辑区域，如果指定了parentid则将添加到指定的组件中。目前parentid对应的组件只能为Container类型的组件\r\n     * @params {{components:Array,parentId:string?}}\r\n     */\r\n    addControl({components, parentId}) {\r\n      let controls = []\r\n      let newComponents = this.getComponents(components, parentId)\r\n      if (parentId) {\r\n        const {path} = findComponentPathById(this.controls, parentId)\r\n        controls = updateTreeIn(this.controls, path, (item) => {\r\n          item.children = item.children.concat(newComponents)\r\n          return item\r\n        })\r\n      } else {\r\n        controls = this.controls.concat(newComponents)\r\n      }\r\n\r\n      this.setControls(controls)\r\n\r\n      // 默认选中最后一个\r\n      let {component} = findComponentPathById(controls, newComponents[newComponents.length - 1].id)\r\n\r\n      // 默认选中最后一个\r\n      this.handleSelect(component)\r\n\r\n      //console.log(this.$store)\r\n\r\n\r\n      //console.log(this.controls)\r\n      //sessionStorage.setItem('controls',this.controls);\r\n      //console.log(sessionStorage.getItem('controls'));\r\n    },\r\n    /**\r\n     * @description 根据变更id的数据进行批量更新\r\n     * @param {{[id :string]:{key:string;value:any}}} changes\r\n     */\r\n    batchUpdateControlValue(changes) {\r\n      let controls = batchUpdateIn(this.controls, Object.keys(changes), (item) => {\r\n        item[changes[item.id].key] = changes[item.id].value\r\n        return item\r\n      })\r\n      this.setControls(controls)\r\n    },\r\n    /**\r\n     * @description 指定id列表批量删除组件\r\n     * @param {string[]} 要删除的组件id集合\r\n     */\r\n    batchDeleteControls(deleteIds) {\r\n      let controls = batchUpdateIn(this.controls, deleteIds, () => false)\r\n      this.setControls(controls)\r\n    },\r\n    /**\r\n     * @description 更新选中组件指定的key\r\n     * @param {String} key 组件中的字段\r\n     * @param {any} value  新的值\r\n     * @param {Boolean} isExtra 是否为附加参数，对应组件的extra字段。\r\n     */\r\n    updateControlValue(key, value, isExtra) {\r\n      let controls = updateTreeIn(this.controls, this.currentPath, (item) => {\r\n        if (['x', 'y', 'width', 'height', 'rotation'].includes(key)) {\r\n          let transform = {...item.transform}\r\n          transform[key] = value\r\n          item.transform = transform\r\n          return item\r\n        } else if (isExtra) {\r\n          let extra = {...item.extra}\r\n          extra[key] = value\r\n          item.extra = extra\r\n        } else {\r\n          item[key] = value\r\n        }\r\n        return item\r\n      })\r\n      this.setControls(controls)\r\n    },\r\n    // 组件拖拽时将新的transform同步到属性编辑器中，并在end事件中进行一次数据同步\r\n    handleTransform({transform, type}) {\r\n      this.controlled = {...this.controlled, ...transform}\r\n      if (['resizeend', 'dragend', 'rotateend'].includes(type)) {\r\n        this.updateControlValue('transform', transform, false)\r\n      }\r\n    },\r\n    /**\r\n     * @description 变更当前选中组件的状态\r\n     * @param {Boolean} status\r\n     */\r\n    updateControlStatus(status) {\r\n      let controls = updateTreeIn(this.controls, this.currentPath, (item) => {\r\n        item.active = status\r\n        return item\r\n      })\r\n      this.setControls(controls)\r\n    },\r\n    //  组件选中，右侧展示属性编辑器\r\n    handleSelect(control) {\r\n      this.setCurrentControl(control)\r\n      this.updateControlStatus(true)\r\n    },\r\n    setCurrentControl(control) {\r\n      // 无组件选中时，直接清除属性编辑器\r\n      if (!control || !control.id) {\r\n        this.clearCurrentComponent()\r\n        return\r\n      }\r\n\r\n      // 将已选中的取消选中\r\n      if (control && this.currentId) {\r\n        let controls = updateTreeIn(this.controls, this.currentPath, (item) => {\r\n          item.active = false\r\n          return item\r\n        })\r\n        // 不加入历史记录\r\n        this.setControls(controls, false)\r\n      }\r\n\r\n      // 深度拷贝数据，避免数据引用污染\r\n      control = JSON.parse(JSON.stringify(control))\r\n      Object.assign(control, control.transform, {active: true})\r\n      //  将选中组件设置到当前属性编辑器中\r\n      let {path} = findComponentPathById(this.controls, control.id)\r\n      this.currentPath = path\r\n      this.controlled = control\r\n      this.currentId = control.id\r\n    },\r\n    // 属性编辑器变化后同步到组件中\r\n    handleChange({name, value, extra}) {\r\n      if (!this.currentId) {\r\n        return\r\n      }\r\n      if (extra) {\r\n        this.controlled.extra[name] = value\r\n      } else {\r\n        this.controlled[name] = value\r\n      }\r\n      // 注意节流优化提升性能\r\n      this.updateControlValue(name, value, extra)\r\n    },\r\n    getActiveComponent(ctls) {\r\n      return findComponent(ctls, (item) => item.active)\r\n    },\r\n    setControls(controls, needRecordHistory = true) {\r\n      this.controls = controls\r\n\r\n      if (needRecordHistory) {\r\n        historys = historys.slice(0, historyPointer + 1)\r\n        historys.push(this.controls)\r\n        historyPointer = historys.length - 1\r\n      }\r\n\r\n      this.$store.state.controls = this.controls;\r\n      this.$store.state.his = historys;\r\n      this.$store.state.hisPnt = historyPointer;\r\n    },\r\n    /**\r\n     * @description 清空选中状态\r\n     */\r\n    clearCurrentComponent() {\r\n      this.controlled = {}\r\n      this.currentId = ''\r\n      this.currentPath = []\r\n    },\r\n    initFromHistory(bounce) {\r\n      historyPointer += bounce\r\n      let controls = historys[historyPointer]\r\n      this.controls = controls\r\n    },\r\n    // Actions\r\n    handleUndo() {\r\n      if (historyPointer == 0) return\r\n      this.clearCurrentComponent()\r\n      this.initFromHistory(-1)\r\n      this.setCurrentControl(this.getActiveComponent(this.controls))\r\n    },\r\n    /**\r\n     * @description 删除当前选中的组件\r\n     */\r\n    deleteComponent() {\r\n      if (!this.currentId) {\r\n        return\r\n      }\r\n      let controls = updateTreeIn(this.controls, this.currentPath, () => false)\r\n      this.setControls(controls)\r\n      this.clearCurrentComponent()\r\n    },\r\n    duplicateComponent() {\r\n      if (!this.currentId) {\r\n        return\r\n      }\r\n\r\n      let pathes = this.currentPath.slice()\r\n      let selectedIndex = pathes.pop()\r\n\r\n      let controls = []\r\n      let component = null\r\n      const newComponent = (item) => {\r\n        // 深度拷贝，粗暴！！\r\n        let copyOfSelected = deepCopyComponent(item)\r\n        let t = copyOfSelected.transform\r\n        copyOfSelected.transform = {\r\n          x: t.x,\r\n          y: t.y + t.height,\r\n          width: t.width,\r\n          height: t.height,\r\n          rotation: t.rotation,\r\n        }\r\n        component = copyOfSelected\r\n        return copyOfSelected\r\n      }\r\n      if (pathes.length > 0) {\r\n        controls = updateTreeIn(this.controls, pathes, (item) => {\r\n          let children = item.children.slice()\r\n          let copyOfSelected = newComponent(children[selectedIndex])\r\n          children.splice(selectedIndex + 1, 0, copyOfSelected)\r\n          item.children = children\r\n          return item\r\n        })\r\n      } else {\r\n        controls = this.controls.slice()\r\n        controls.splice(selectedIndex + 1, 0, newComponent(this.controls[selectedIndex]))\r\n      }\r\n      this.setControls(controls)\r\n      this.setCurrentControl(component)\r\n    },\r\n    handleClear() {\r\n      this.setControls([])\r\n      this.clearCurrentComponent()\r\n    },\r\n\r\n    handleRedo() {\r\n      if (historyPointer === historys.length - 1) return\r\n      this.initFromHistory(1)\r\n      this.clearCurrentComponent()\r\n      this.setCurrentControl(this.getActiveComponent(this.controls))\r\n    },\r\n    handleUnselect() {\r\n      if (!this.currentId) return\r\n      this.updateControlStatus(false)\r\n      this.clearCurrentComponent()\r\n    },\r\n    getEditorView() {\r\n      return this.$refs.editor\r\n    },\r\n    saveView() {\r\n      this.$store.state.controls = this.controls;\r\n    },\r\n    jump() {\r\n      this.$router.push('/userInfo');\r\n    },\r\n    openDialog() {\r\n      this.dialogFormVisible = true;\r\n      console.log(this.dialogFormVisible);\r\n    },\r\n\r\n    saveImg(){\r\n      this.setCurrentControl(this.getActiveComponent(this.controls))\r\n      // 手动创建一个 canvas 标签\r\n      const canvas = document.createElement(\"canvas\")\r\n      // 获取父标签，意思是这个标签内的 DOM 元素生成图片\r\n      // imageTofile是给截图范围内的父级元素自定义的ref名称\r\n      let canvasBox = this.$refs.imageTofile\r\n      // 获取父级的宽高\r\n      const width = parseInt(window.getComputedStyle(canvasBox).width)\r\n      const height = parseInt(window.getComputedStyle(canvasBox).height)\r\n      // 宽高 * 2 并放大 2 倍 是为了防止图片模糊\r\n      canvas.width = width * 3\r\n      canvas.height = height * 3\r\n      canvas.style.width = width + 'px'\r\n      canvas.style.height = height + 'px'\r\n      const context = canvas.getContext(\"2d\");\r\n      context.scale(2.4, 2.4);\r\n      const options = {\r\n        backgroundColor: null,\r\n        canvas: canvas,\r\n        useCORS: true\r\n      }\r\n      html2canvas(canvasBox, options).then((canvas) => {\r\n        // toDataURL 图片格式转成 base64\r\n        //let fileName = prompt(\"请输入导出的图片名\\n(默认.png，支持.jpg, .jpeg及.png)\", \"例:aaa(默认输出aaa.png)\")\r\n        //let reg = [/.png$/, /.jpg$/, /.jpeg$/]\r\n        let dataURL = String\r\n        dataURL = canvas.toDataURL(\"image/png\")\r\n        let params = {\r\n          img : JSON.stringify(dataURL),\r\n          picid: this.$route.query.pic_id\r\n        }\r\n        this.$axios({\r\n          method: 'post',\r\n          url: this.$store.state.base + \"design/upload_prototype/\",\r\n          data: qs.stringify(params)\r\n        }).then(res => {\r\n          console.log(\"新建图片成功\")\r\n          console.log(res.data);\r\n          //location.reload();\r\n          // this.$message({\r\n          //   message: '保存成功',\r\n          //   type: \"success\",\r\n          //   showClose: true,\r\n          // })\r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n      })\r\n\r\n    },\r\n\r\n    toImage() {\r\n      this.setCurrentControl(this.getActiveComponent(this.controls))\r\n      // 手动创建一个 canvas 标签\r\n      const canvas = document.createElement(\"canvas\")\r\n      // 获取父标签，意思是这个标签内的 DOM 元素生成图片\r\n      // imageTofile是给截图范围内的父级元素自定义的ref名称\r\n      let canvasBox = this.$refs.imageTofile\r\n      // 获取父级的宽高\r\n      const width = parseInt(window.getComputedStyle(canvasBox).width)\r\n      const height = parseInt(window.getComputedStyle(canvasBox).height)\r\n      // 宽高 * 2 并放大 2 倍 是为了防止图片模糊\r\n      canvas.width = width * 3\r\n      canvas.height = height * 3\r\n      canvas.style.width = width + 'px'\r\n      canvas.style.height = height + 'px'\r\n      const context = canvas.getContext(\"2d\");\r\n      context.scale(2.4, 2.4);\r\n      const options = {\r\n        backgroundColor: null,\r\n        canvas: canvas,\r\n        useCORS: true\r\n      }\r\n      html2canvas(canvasBox, options).then((canvas) => {\r\n        // toDataURL 图片格式转成 base64\r\n        let fileName = prompt(\"请输入导出的图片名\\n(默认.png，支持.jpg, .jpeg及.png)\", \"例:aaa(默认输出aaa.png)\")\r\n        let reg = [/.png$/, /.jpg$/, /.jpeg$/]\r\n        let dataURL = String\r\n        if (reg[2].test(fileName)) {\r\n          dataURL = canvas.toDataURL(\"image/jpeg\")\r\n        } else if (reg[1].test(fileName)) {\r\n          dataURL = canvas.toDataURL(\"image/jpg\")\r\n        } else {\r\n          dataURL = canvas.toDataURL(\"image/png\")\r\n        }\r\n        console.log(fileName)\r\n        fileName.replace(/.png$/, \"\")\r\n        fileName.replace(/.jpeg$/, \"\")\r\n        fileName.replace(/.jpg$/, \"\")\r\n        this.downloadImage(dataURL, fileName)\r\n      })\r\n    },\r\n    downloadImage(url, fileName) {\r\n      // 如果是在网页中可以直接创建一个 a 标签直接下载\r\n      let a = document.createElement('a')\r\n      a.href = url\r\n      a.download = fileName\r\n      a.click()\r\n    },\r\n    handleSave() {\r\n      this.setCurrentControl(this.getActiveComponent(this.controls))\r\n      let str = JSON.stringify(this.controls);\r\n      console.log(str);\r\n      let blob = new Blob([str]);\r\n      let formData = new FormData();\r\n      formData.append(\"file\", blob);\r\n      formData.append(\"picid\", JSON.stringify(this.$store.state.pic_id));\r\n      for (var value of formData.values()) {\r\n        console.log(value);\r\n        console.log(typeof value);\r\n      }\r\n\r\n      this.$axios({\r\n        method: 'post',\r\n        url: this.$store.state.base + \"design/store/\",\r\n        data: formData\r\n      }).then(res => {\r\n        console.log(res.data);\r\n        //location.reload();\r\n        this.$message({\r\n          message: '保存成功',\r\n          type: \"success\",\r\n          showClose: true,\r\n        })\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n\r\n      this.saveImg();\r\n    },\r\n    get_Pic(pic_id) {\r\n      let params = {\r\n        picid: pic_id,\r\n      }\r\n      console.log(params);\r\n      this.$axios({\r\n        method: 'post',\r\n        url: this.$store.state.base + \"design/get_one_design/\",\r\n        data: qs.stringify(params)\r\n      }).then(res => {\r\n        let ans = res.data[0];\r\n        console.log(ans);\r\n\r\n        console.log(this.$store.state.base + ans.url);\r\n        this.$axios.post(this.$store.state.base + ans.url)\r\n            .then( res => {\r\n              console.log(1)\r\n              console.log(res.data);\r\n              if(res.data === \"\")\r\n                this.controls = [];\r\n              else\r\n                this.controls = res.data;\r\n            })\r\n\r\n        this.width = ans.width;\r\n        this.height = ans.height;\r\n        console.log(this.width, this.height);\r\n        this.setSize(this.width, this.height);\r\n        console.log(this.controls);\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    Escape() {\r\n      this.$router.push('/designList')\r\n      location.reload()\r\n    },\r\n    Export() {\r\n      console.log(JSON.stringify(this.controls));\r\n    },\r\n\r\n    /*\r\n    getFile(picid) {\r\n      let params = {\r\n        picid : picid,\r\n      }\r\n\r\n      this.axios({\r\n        method: 'post',\r\n        url: this.$store.state.base + 'design/get_one_design/'\r\n      })\r\n\r\n      this.axios({\r\n\r\n      })\r\n      this.$axios.get(url)\r\n        .then( res => {\r\n          console.log(1)\r\n          console.log(res.data);\r\n          this.controls = res.data;\r\n        })\r\n    }\r\n\r\n     */\r\n  },\r\n\r\n  mounted() {\r\n    console.log('mounted',this.width, this.height);\r\n    this.setSize(this.width, this.height);\r\n  },\r\n\r\n  created() {\r\n    // 使用独立的事件对象来处理，避免多层透传回调函数\r\n\r\n    this.eventbus.$on(EVENT_COMPONENT_ADD, this.addControl)\r\n    this.eventbus.$on(EVENT_COMPONENT_SELECT, this.handleSelect)\r\n    this.eventbus.$on(EVENT_COMPONENT_TRANSFORM, this.handleTransform)\r\n    this.eventbus.$on(EVENT_COMPONENT_UNSELECT, this.handleUnselect)\r\n    this.eventbus.$on(EVENT_COMPONENT_DUPLICATE, this.duplicateComponent)\r\n    this.eventbus.$on(EVENT_COMPONENT_DELETE, this.deleteComponent)\r\n    this.eventbus.$on(EVENT_APPLICATION_REDO, this.handleRedo)\r\n    this.eventbus.$on(EVENT_APPLICATION_UNDO, this.handleUndo)\r\n    this.eventbus.$on(EVENT_APPLICATION_CLEAR, this.handleClear)\r\n    this.eventbus.$on(EVENT_CONTENT_CHANGETOIMAGE, this.toImage)\r\n\r\n    this.eventbus.$on(EVENT_APPLICATION_SAVE, this.handleSave)\r\n    this.eventbus.$on(EVENT_APPLICATION_ESC, this.Escape)\r\n    this.eventbus.$on(EVENT_APPLICATION_EXPORT, this.Export)\r\n    // 绑定键盘按钮事件\r\n    registerKeyboardAction(this)\r\n\r\n    console.log(\"调用created\");\r\n    this.get_Pic(this.$route.query.pic_id);\r\n    console.log(this.controls);\r\n    console.log(\"调用完毕\");\r\n\r\n    /*\r\n    console.log(\"调用getFile\");\r\n    this.getFile(this.url);\r\n    console.log(this.controls);\r\n    console.log(\"调用完毕\");\r\n\r\n     */\r\n\r\n\r\n  },\r\n  render() {\r\n    return (\r\n      <div class=\"vs-editor-app\">\r\n        <HeaderVue />\r\n        <div class=\"content\">\r\n          <ComponentsVue />\r\n          <div class=\"temp\">\r\n            <div class=\"container\" ref=\"imageTofile\">\r\n              <EditorViewVue ref=\"editor\" value={this.controls}>\r\n                <PluginSelectionVue application={this}/>\r\n              </EditorViewVue>\r\n            </div>\r\n          </div>\r\n          <PropInspectorVue onChange={this.handleChange} controlled={this.controlled} />\r\n        </div>\r\n        <FooterVue />\r\n      </div>\r\n    )\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n*{\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.block {\r\n\r\n}\r\n\r\n.temp{\r\n  background-color: #d0cdcd;\r\n  flex: 1;\r\n  position: relative;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .container {\r\n    background-color: #fcfcfc;\r\n    overflow: hidden;\r\n\r\n  }\r\n}\r\n\r\n.vs-editor-app {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n\r\n  .content {\r\n    display: flex;\r\n    flex: 1;\r\n    height: 0;\r\n    /*background-color: #ffffff;\r\n\r\n     */\r\n    .vs-editor {\r\n      flex: 1;\r\n      position: relative;\r\n      width: 100%;\r\n      overflow: hidden;\r\n      height: 100%;\r\n    }\r\n  }\r\n  .component-impl,\r\n\r\n  .match-parent {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: block;\r\n  }\r\n\r\n\r\n  .input-has-label {\r\n    display: flex;\r\n    align-items: center;\r\n    input {\r\n      margin-right: 6px;\r\n    }\r\n  }\r\n  // 自定义class样式\r\n  .yoyoo-ddr.ddr-dragging {\r\n    &.active {\r\n      border: 1px solid blue;\r\n      border-radius: 2px;\r\n    }\r\n    .resize-handler-wrapper,\r\n    .rotate-handler {\r\n      display: none;\r\n    }\r\n  }\r\n  .yoyoo-ddr.ddr-ready-dragging {\r\n    &.active {\r\n      border: 1px solid #ff0000;\r\n    }\r\n    .resize-handler-wrapper,\r\n    .rotate-handler {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2cace310&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","var map = {\n\t\"./Dismiss.png\": 87535,\n\t\"./add.png\": 79878,\n\t\"./addAdmin.png\": 45071,\n\t\"./attention.png\": 9848,\n\t\"./block.png\": 13616,\n\t\"./button.png\": 47355,\n\t\"./cancel.png\": 27160,\n\t\"./cart.png\": 81648,\n\t\"./checkbox.png\": 28278,\n\t\"./collect.png\": 22492,\n\t\"./commend.png\": 19697,\n\t\"./container.png\": 54093,\n\t\"./date.png\": 12294,\n\t\"./delete.png\": 51125,\n\t\"./file.png\": 63641,\n\t\"./folder.png\": 48874,\n\t\"./friend.png\": 90132,\n\t\"./game.png\": 16922,\n\t\"./history.png\": 21684,\n\t\"./home.png\": 76553,\n\t\"./hot.png\": 53729,\n\t\"./images/close-circle.png\": 12277,\n\t\"./images/close.png\": 42266,\n\t\"./images/login.png\": 95567,\n\t\"./images/register.png\": 26527,\n\t\"./img.png\": 27811,\n\t\"./input.png\": 52115,\n\t\"./invite.png\": 22399,\n\t\"./label.png\": 76570,\n\t\"./like.png\": 66159,\n\t\"./live.png\": 96544,\n\t\"./logo.png\": 66949,\n\t\"./mail.png\": 49698,\n\t\"./message.png\": 88050,\n\t\"./newProduct.png\": 19442,\n\t\"./no.png\": 22735,\n\t\"./notice.png\": 90269,\n\t\"./plus.png\": 98859,\n\t\"./project.png\": 39015,\n\t\"./radio.png\": 36111,\n\t\"./return.png\": 24613,\n\t\"./safety.png\": 25183,\n\t\"./search.png\": 72305,\n\t\"./select.png\": 83550,\n\t\"./shopping.png\": 17901,\n\t\"./sports.png\": 99654,\n\t\"./tips.png\": 43452,\n\t\"./upload.png\": 89938,\n\t\"./user.png\": 72315\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 92715;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"names":["KeyCombo","keyComboStr","_classCallCheck","this","sourceStr","subCombos","parseComboStr","keyNames","reduce","memo","nextSubCombo","concat","_createClass","key","value","pressedKeyNames","startingKeyNameIndex","i","length","_checkSubCombo","otherKeyCombo","_typeof","subCombo","otherSubCombo","slice","j","keyName","index","indexOf","splice","endIndex","escapedKeyName","comboDeliminator","keyDeliminator","subComboStrs","_splitStr","combo","push","str","deliminator","s","d","c","ca","ci","trim","Locale","name","localeName","activeTargetKeys","pressedKeys","_appliedMacros","_keyMap","_killKeyCodes","_macros","keyCode","handler","macro","keyCombo","keyCodes","getKeyCodes","setKillKey","getKeyNames","_applyMacros","pressKey","releaseKey","killKeyCodeIndex","_clearMacros","macros","check","Keyboard","targetWindow","targetElement","targetPlatform","targetUserAgent","_locale","_currentContext","_contexts","_listeners","_appliedListeners","_locales","_targetElement","_targetWindow","_targetPlatform","_targetUserAgent","_isModernBrowser","_targetKeyDownBinding","_targetKeyUpBinding","_targetResetBinding","_paused","global","listeners","setContext","localeBuilder","locale","_localeName","localName","pressHandler","releaseHandler","preventRepeatByDefault","bind","preventRepeat","executingHandler","unbind","listener","comboMatches","isEqual","pressHandlerMatches","releaseHandlerMatches","contextName","releaseAllKeys","globalContext","context","stop","watch","callback","previousContextName","getContext","win","globalThis","window","addEventListener","attachEvent","Error","nodeType","userAgent","navigator","platform","document","event","_this","_handleCommandBug","_bindEvent","currentContext","_unbindEvent","_applyBindings","_clearBindings","eventName","removeEventListener","detachEvent","listenerGroups","listenerGroupMap","sort","a","b","forEach","l","mapIndex","_getGroupedListeners","some","k","includes","call","_this2","_loop","modifierKeys","match","us","bindKeyCode","bindMacro","String","fromCharCode","capitalKeyName","leftCommandKeyCode","rightCommandKeyCode","semicolonKeyCode","dashKeyCode","equalKeyCode","keyboard","setLocale","render","staticRenderFns","data","components","type","width","height","inputType","options","url","label","children","methods","handleDrag","e","require","item","component","Vector","constructor","lst","_values","toString","join","dot","vector","map","get","Matrix","values","shape","Array","fill","valueOf","JSON","parse","stringify","rows","cols","rowVector","row","colVector","col","v","v1","newMatrix","zeros","T","_","colIndex","rowIndex","pointMap","br","bm","bl","tl","tm","tr","r","handlerPointMap","pointMap2","widthMap","heightMap","tr2bl","deg2rad","deg","Math","PI","rad2deg","rad","getPoints","x","y","rotation","zoom","wc","hc","cos","sin","rect","getBoundingRect","transform","left","top","right","bottom","points","xarray","yarray","element","getSize","dis","pressAngle","startAngle","w","h","currentAngle","atan2","cursorMap","handlerMap","getHandler","originIndex","currentIndex","floor","props","default","handlerSize","active","resizeHandler","resizable","rotatable","draggable","fixedRatio","minWidth","minHeight","maxWidth","maxHeight","parent","beforeActive","id","renderContent","grid","prevent","axis","currentRatio","isInitialRatio","isDragging","isResizing","isRotating","isReadyToDrag","isReadyToResize","isReadyToRotate","created","computed","rotateHandler","style","handleDefaultEvent","getNewHandler","cursor","emitChange","handleMouseDown","clientX","clientY","minLeft","maxLeft","minTop","maxTop","maxLeftWidth","maxRightWidth","maxTopHeight","maxBottomHeight","handleMouseMove","doMove","restrictToLeftOfParent","restrictToTopOfParent","restrictHeight","restrictWidth","handleMouseUp","drag","resize","rotate","handleResizeStart","matrix","opposite","opp2","offsetX","offsetY","handleResizeMove","handleRotateStart","cx","cy","handleRotateMove","getClassNames","EVENT_COMPONENT_SELECT","EVENT_COMPONENT_UNSELECT","EVENT_COMPONENT_ADD","EVENT_COMPONENT_TRANSFORM","EVENT_COMPONENT_DELETE","EVENT_COMPONENT_DUPLICATE","EVENT_CONTENT_CHANGETOIMAGE","EVENT_APPLICATION_REDO","EVENT_APPLICATION_UNDO","EVENT_APPLICATION_CLEAR","EVENT_APPLICATION_SAVE","EVENT_APPLICATION_ESC","EVENT_APPLICATION_EXPORT","Img","params","Label","Container","meta","Input","Select","Rect","Search","Cart","Message","User","Shopping","Home","Attention","img","input","select","container","search","cart","message","user","shopping","home","attention","ComponentRefMap","saveComponentRef","ref","getComponentRef","getComponentRefsById","ids","beforeActive1","handleDragStart","handleDragEnd","handleResize","handleResizeEnd","handleRotate","handleRotateEnd","extra","mounted","parentId","handleDropOver","getImageDataUrl","reader","resolve","addComponents","com","getWrapperElement","findComponentPathById","array","findComponent","controls","isRoot","componentPath","ele","path","fn","deepCopyComponent","setNewId","generateId","updateTreeIn","resultArray","shift","firstIndex","newData","object","_obj","filter","Boolean","batchUpdateIn","Date","now","random","handleChange","PropInputImpl","radio","number","checkbox","inputs","cn_name","extraInputs","customChange","extraChange","checked","Interaction","button","stopPropagation","preventDefault","elementRect","getBoundingClientRect","lastPointerX","lastPointerY","downPointerX","downPointerY","downClientX","downClientY","startHandler","deltaX","deltaY","moveHanlder","endHanler","handlers","inter","onMove","onStart","onEnd","destory","registerSelectionActions","selection","eventbus","$on","componentRefs","application","batchDeleteControls","selectionActive","transformList","newComponent","copyOfSelected","t","selectionTransform","find","selectedComponents","$nextTick","getSelectedComponentRefs","target","dataset","action","selectionHandler","selectionArea","getContains","handleSelectionStart","handleSelectionMove","handleSelectionEnd","createSelectionTransform","x1","y1","getSelectedComponentTransform","handleSelectionDrag","handleSelectionDragEnd","changes","handleSelectionResize","keyboardActions","keys","registerKeyboardAction","keyboardJS","tagName","toLowerCase","$emit","historys","historyPointer","currentId","currentPath","controlled","setSize","$","console","getComponents","addControl","batchUpdateControlValue","updateControlValue","handleTransform","updateControlStatus","handleSelect","setCurrentControl","control","Object","getActiveComponent","setControls","clearCurrentComponent","initFromHistory","handleUndo","deleteComponent","duplicateComponent","handleClear","handleRedo","handleUnselect","getEditorView","saveView","jump","openDialog","saveImg","canvas","backgroundColor","useCORS","html2canvas","dataURL","picid","method","then","res","catch","err","toImage","fileName","downloadImage","handleSave","formData","showClose","get_Pic","Escape","location","Export","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","module","exports","_defineProperty","obj","defineProperty","enumerable","configurable","writable"],"sourceRoot":""}